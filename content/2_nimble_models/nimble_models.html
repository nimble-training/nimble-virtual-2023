<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="NIMBLE Development Team" />
  <title>Working with NIMBLE models</title>
  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
          </style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
  <style type="text/css">
body
{
margin: 0 0 0 0;
padding: 0 0 0 0;
width: 100%;
height: 100%;
color: black;
background-color: white;
font-family: "Gill Sans MT", "Gill Sans", GillSans, sans-serif;
font-size: 14pt;
}
div.toolbar {
position: fixed; z-index: 200;
top: auto; bottom: 0; left: 0; right: 0;
height: 1.2em; text-align: right;
padding-left: 1em;
padding-right: 1em; font-size: 60%;
color: DimGray;
background-color: rgb(240,240,240);
border-top: solid 1px rgb(180,180,180);
}
div.toolbar span.copyright {
color: DimGray;
margin-left: 0.5em;
}
div.initial_prompt {
position: absolute;
z-index: 1000;
bottom: 1.2em;
width: 100%;
background-color: rgb(200,200,200);
opacity: 0.35;
background-color: rgb(200,200,200, 0.35);
cursor: pointer;
}
div.initial_prompt p.help {
text-align: center;
}
div.initial_prompt p.close {
text-align: right;
font-style: italic;
}
div.slidy_toc {
position: absolute;
z-index: 300;
width: 60%;
max-width: 30em;
height: 30em;
overflow: auto;
top: auto;
right: auto;
left: 4em;
bottom: 4em;
padding: 1em;
background: rgb(240,240,240);
border-style: solid;
border-width: 2px;
font-size: 60%;
}
div.slidy_toc .toc_heading {
text-align: center;
width: 100%;
margin: 0;
margin-bottom: 1em;
border-bottom-style: solid;
border-bottom-color: rgb(180,180,180);
border-bottom-width: 1px;
}
div.slide {
z-index: 20;
margin: 0 0 0 0;
padding-top: 0;
padding-bottom: 0;
padding-left: 20px;
padding-right: 20px;
border-width: 0;
clear: both;
top: 0;
bottom: 0;
left: 0;
right: 0;
line-height: 120%;
background-color: transparent;
}
div.background {
display: none;
}
div.handout {
margin-left: 20px;
margin-right: 20px;
}
div.slide.titlepage {
text-align: center;
}
div.slide.titlepage h1 {
padding-top: 10%;
margin-right: 0;
}
div.slide h1 {
padding-left: 0;
padding-right: 20pt;
padding-top: 4pt;
padding-bottom: 4pt;
margin-top: 0;
margin-left: 0;
margin-right: 60pt;
margin-bottom: 0.5em;
display: block; font-size: 160%;
line-height: 1.2em;
background: transparent;
}
@media screen and (max-device-width: 1024px)
{
div.slide { font-size: 100%; }
}
@media screen and (max-device-width: 800px)
{
div.slide { font-size: 200%; }
div.slidy_toc {
top: 1em;
left: 1em;
right: auto;
width: 80%;
font-size: 180%;
}
}
div.toc-heading {
width: 100%;
border-bottom: solid 1px rgb(180,180,180);
margin-bottom: 1em;
text-align: center;
}
img {
image-rendering: optimize-quality;
}
pre {
font-size: 80%;
font-weight: bold;
line-height: 120%;
padding-top: 0.2em;
padding-bottom: 0.2em;
padding-left: 1em;
padding-right: 1em;
border-style: solid;
border-left-width: 1em;
border-top-width: thin;
border-right-width: thin;
border-bottom-width: thin;
border-color: #95ABD0;
color: #00428C;
background-color: #E4E5E7;
}
li pre { margin-left: 0; }
blockquote { font-style: italic }
img { background-color: transparent }
p.copyright { font-size: smaller }
.center { text-align: center }
.footnote { font-size: smaller; margin-left: 2em; }
a img { border-width: 0; border-style: none }
a:visited { color: navy }
a:link { color: navy }
a:hover { color: red; text-decoration: underline }
a:active { color: red; text-decoration: underline }
a {text-decoration: none}
.toolbar a:link {color: blue}
.toolbar a:visited {color: blue}
.toolbar a:active {color: red}
.toolbar a:hover {color: red}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
li { margin-left: 0.5em; margin-top: 0.5em; }
li li { font-size: 85%; font-style: italic }
li li li { font-size: 85%; font-style: normal }
div dt
{
margin-left: 0;
margin-top: 1em;
margin-bottom: 0.5em;
font-weight: bold;
}
div dd
{
margin-left: 2em;
margin-bottom: 0.5em;
}
p,pre,ul,ol,blockquote,h2,h3,h4,h5,h6,dl,table {
margin-left: 1em;
margin-right: 1em;
}
p.subhead { font-weight: bold; margin-top: 2em; }
.smaller { font-size: smaller }
.bigger { font-size: 130% }
td,th { padding: 0.2em }
ul {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ol {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
ul li { list-style: square;
margin: 0.1em 0em 0.6em 0;
padding: 0 0 0 0;
line-height: 140%;
}
ol li { margin: 0.1em 0em 0.6em 1.5em;
padding: 0 0 0 0px;
line-height: 140%;
list-style-type: decimal;
}
li ul li { font-size: 85%; font-style: italic;
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li li ul li { font-size: 85%; font-style: normal;
list-style-type: circle;
background: transparent;
padding: 0 0 0 0;
}
li li li ul li {
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li ol li {
list-style-type: decimal;
}
li li ol li {
list-style-type: decimal;
}

ol.outline li:hover { cursor: pointer }
ol.outline li.nofold:hover { cursor: default }
ul.outline li:hover { cursor: pointer }
ul.outline li.nofold:hover { cursor: default }
ol.outline { list-style:decimal; }
ol.outline ol { list-style-type:lower-alpha }
ol.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ol.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ol.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ul.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}

a.titleslide { font-weight: bold; font-style: italic }

img.hidden { display: none; visibility: hidden }
div.initial_prompt { display: none; visibility: hidden }
div.slide {
visibility: visible;
position: inherit;
}
div.handout {
border-top-style: solid;
border-top-width: thin;
border-top-color: black;
}
@media screen {
.hidden { display: none; visibility: visible }
div.slide.hidden { display: block; visibility: visible }
div.handout.hidden { display: block; visibility: visible }
div.background { display: none; visibility: hidden }
body.single_slide div.initial_prompt { display: block; visibility: visible }
body.single_slide div.background { display: block; visibility: visible }
body.single_slide div.background.hidden { display: none; visibility: hidden }
body.single_slide .invisible { visibility: hidden }
body.single_slide .hidden { display: none; visibility: hidden }
body.single_slide div.slide { position: absolute }
body.single_slide div.handout { display: none; visibility: hidden }
}
@media print {
.hidden { display: block; visibility: visible }
div.slide pre { font-size: 60%; padding-left: 0.5em; }
div.toolbar { display: none; visibility: hidden; }
div.slidy_toc { display: none; visibility: hidden; }
div.background { display: none; visibility: hidden; }
div.slide { page-break-before: always }

div.slide.first-slide { page-break-before: avoid }
}


.jslider table {
margin-left: 0em;
margin-right: 0em;
}

table.dataTable, .shiny-datatable-output div {
font-size: 14pt;
}

.dataTables_info, .dataTables_paginate {
font-size: 19px;
}

pre.sourceCode, code.sourceCode {
font-size: 80%;
}

label, button, input, select, textarea {
font-size: 14pt;
}

ul.nav, ul.nav li {
list-style-type: none;
}
</style>
  <script src="data:application/javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
  <script>(function() {
  if (!window.w3c_slidy) return;
  if (!window.Shiny) return;
  if (!window.$) return;
  // whenever a slide changes, tell shiny to recalculate what is displayed
  window.w3c_slidy.add_observer(function (slide_num) {
    // slide_num starts at position 1
    $(w3c_slidy.slides[slide_num - 1]).trigger("shown");
  });
})()
</script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Working with NIMBLE models</h1>
  <h1 class="subtitle">NIMBLE 2023 Virtual Workshop</h1>
  <p class="author">
NIMBLE Development Team
  </p>
  <p class="date">January 2023</p>
</div>
<div class="slide section level1">

<style>
slides > slide {
  overflow-x: auto !important;
  overflow-y: auto !important;
}
</style>
</div>
<div id="overview" class="slide section level1">
<h1>Overview</h1>
<ul>
<li>Features of NIMBLE and NIMBLEs model language</li>
<li>Converting from WinBUGS/JAGS</li>
<li>Models are graphs and why it matters</li>
<li>Models are R objects that can be operated: calculation and
simulation</li>
</ul>
</div>
<div id="alternative-distribution-parameterizations-and-named-parameters" class="slide section level1">
<h1>Alternative distribution parameterizations and named parameters</h1>
<ul>
<li><p>BUGS/JAGS: Only <code>dnorm(mu, tau)</code> is supported, where
<code>tau</code> is precision.</p></li>
<li><p>NIMBLE: Alternative parameterizations and named parameters are
supported (but defaults are same as with JAGS/WinBUGS):</p>
<ul>
<li><p><code>dnorm(mean = mu, sd = sigma)</code><br />
</p></li>
<li><p><code>dnorm(mean = mu, var = sigma_squared)</code></p></li>
<li><p><code>dnorm(mean = mu, tau = tau)</code> (tau = precision)
DEFAULT IF NOT NAMED</p></li>
</ul></li>
<li><p>Distributions with alternative parameterizations are listed in
Table 5.2 of <a href="https://r-nimble.org/html_manual/cha-writing-models.html#subsec:dists-and-functions">User
Manual Section 5.2.4</a></p></li>
<li><p>Usage in the deer E. cervi example.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>DEcode_partial <span class="ot">&lt;-</span> <span class="fu">nimbleCode</span>({</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>) {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Priors for intercepts and length coefficients for sex = 1 (male), 2 (female)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    sex_int[i] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    length_coef[i] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Priors for farm random effects and their standard deviation.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  farm_sd <span class="sc">~</span> <span class="fu">dunif</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_farms) {</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    farm_effect[i] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> farm_sd)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># &lt;snip&gt;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  })</span></code></pre></div>
<p>Note we placed the prior directly on the standard deviation
parameter. In BUGS or JAGS you would need to do this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>farm_sd <span class="sc">~</span> <span class="fu">dunif</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>farm_prec <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>farm_sd<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_farms) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  farm_effect[i] <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, farm_prec)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="what-are-constants-what-are-data" class="slide section level1">
<h1>What are constants? What are data?</h1>
<h3 id="constants-are-values-needed-to-define-model-relationships">Constants
are values needed to define model relationships</h3>
<ul>
<li>Index ranges like <code>N</code></li>
<li>Constant indexing vectors</li>
<li>Constants must be provided when creating a model with
<code>nimbleModel</code>.</li>
</ul>
<h3 id="data-represents-a-flag-on-the-role-a-node-plays-in-the-model">Data
represents a flag on the role a node plays in the model</h3>
<ul>
<li>E.g., data nodes shouldnt be sampled in MCMC.</li>
<li>Data values can be changed.</li>
<li>Data can be provided when calling <code>nimbleModel</code> or
later.</li>
</ul>
<h3 id="providing-data-and-constants-together.">Providing data and
constants together.</h3>
<ul>
<li>Data and constants can be provided together <strong>as
<code>constants</code></strong>.</li>
<li>It would be slightly easier for BUGS/JAGS users to call this data,
but that would blur the concepts.<br />
</li>
<li>NIMBLE will usually disambiguate data when it is provided as
constants.</li>
</ul>
<h3 id="what-are-covariates-and-other-non-parametersnon-observations">What
are covariates and other non-parameters/non-observations?</h3>
<ul>
<li>Covariates/predictors are examples of values that are not parameters
nor data in the sense of the likelihood.</li>
<li>Covariates/predictors can be provided via <code>constants</code> if
you dont need to change them (often the case).</li>
<li>Covariates/predictors can be provided via <code>data</code> or
<code>inits</code> if you want to change them.
<ul>
<li>NIMBLE will not treat them as data nodes.</li>
</ul></li>
</ul>
</div>
<div id="indexing" class="slide section level1">
<h1>Indexing</h1>
<p>When values are grouped (particularly in irregular ways), we often
have (potentially complicated) indexing.</p>
<p>Here <code>sex</code> and <code>farm_ids</code> are vectors of
membership indexes that are known in advance. Make sure to provide them
in <code>constants</code> to avoid unnecessary computation (more
later).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_animals) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">logit</span>(disease_probability[i]) <span class="ot">&lt;-</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    sex_int[ sex[i] ] <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    length_coef[ sex[i] ] <span class="sc">*</span> cLength[i] <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    farm_effect[ farm_ids[i] ]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  Ecervi_01[i] <span class="sc">~</span> <span class="fu">dbern</span>(disease_probability[i])</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Particularly in ecological models, indexing can get very
complicated.</p>
<p>The farm grouping above is ragged (as is the sex grouping). If the
number of observations per farm were constant (regular/rectangular),
we could have something like this (ignoring sex and length):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_farms) </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_animals_per_farm) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">logit</span>(disease_probability[j, i]) <span class="ot">&lt;-</span> farm_effect[j]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    Ecervi_01[j, i] <span class="sc">~</span> <span class="fu">dbern</span>(disease_probability[j, i])</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
</div>
<div id="converting-from-jagsbugs-to-nimble" class="slide section level1">
<h1>Converting from JAGS/BUGS to NIMBLE</h1>
<p>See our <a href="https://r-nimble.org/quick-guide-for-converting-from-jags-or-bugs-to-nimble">guide
online</a>.</p>
<p>How NIMBLE extends BUGS</p>
<ul>
<li>Alternative distribution parameterizations (like R) [seen
above].</li>
<li>Named parameters (like R) [seen above].</li>
<li>Distinction between <code>constants</code> and <code>data</code>
[seen above].</li>
<li>Vectorized math and linear algebra [more below].</li>
<li>Definition-time if-then-else (multiple model variants from the same
code) [more below].</li>
<li>User-defined functions and distributions [tomorrow].</li>
</ul>
<p>And a limitation of NIMBLE</p>
<ul>
<li>NIMBLE is stricter about requiring dimensions for vectors, matrices,
and arrays [more below].</li>
</ul>
</div>
<div id="more-explicit-need-to-provide-dimensions" class="slide section level1">
<h1>More explicit need to provide dimensions</h1>
<ul>
<li>Square brackets must always be provided to indicate number of
dimensions
<ul>
<li>If <code>x</code> is 2-dimensional, use
<code>x[,] %*% beta[]</code>, not <code>x %*% beta</code></li>
<li>(This limitation only pertains to model code, not
<code>nimbleFunction</code> programming, which we will cover
later.)</li>
</ul></li>
<li>Sometimes NIMBLE is not as smart as BUGS/JAGS at determining
dimensions. There are two solutions:
<ul>
<li>Give dimensions explicitly in model code: <code>x[1:n, 1:m]</code>,
OR</li>
<li>Provide a <code>dimensions</code> argument to
<code>nimbleModel</code>.
<ul>
<li>Example: <code>dimensions = list(x = c(n, m))</code>.</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="be-careful-about-scalar-vs.-vector-vs.-matrix-vs.-array" class="slide section level1">
<h1>Be careful about scalar vs.vector vs.matrix vs.array</h1>
<p>This will not work:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="ot">&lt;-</span> (A[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">%*%</span> b[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">+</span> c[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<p>The problem is that the right-hand-side returns a matrix, so we cant
assign it to a vector.</p>
<p>This will work:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="ot">&lt;-</span> (A[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">%*%</span> b[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">+</span> c[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])[,<span class="dv">1</span>]</span></code></pre></div>
</div>
<div id="definition-time-if-then-else" class="slide section level1">
<h1>Definition-time if-then-else</h1>
<p>If you wish to define multiple alternative models in one set of code,
you can use if-then-else statements. These will be evaluated based on
variables in the R environment when the model is defined. For
example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>code <span class="ot">&lt;-</span> <span class="fu">nimbleCode</span>({</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  sigma <span class="sc">~</span> <span class="fu">dunif</span>(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  beta0 <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  beta1 <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(INCLUDE_X2) {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    beta2 <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(INCLUDE_X2) {</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>      y[i] <span class="sc">~</span> <span class="fu">dnorm</span>(beta0 <span class="sc">+</span> beta1 <span class="sc">*</span> x1[i] <span class="sc">+</span> beta2 <span class="sc">*</span> x2[i], <span class="at">sd =</span> sigma)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      y[i] <span class="sc">~</span> <span class="fu">dnorm</span>(beta0 <span class="sc">+</span> beta1 <span class="sc">*</span> x1[i], <span class="at">sd =</span> sigma)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>INCLUDE_X2 <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(code)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>INCLUDE_X2 <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(code)</span></code></pre></div>
<p>m2 has <code>beta2</code> while m1 does not.</p>
</div>
<div id="models-are-graphs" class="slide section level1">
<h1>Models are graphs</h1>
<ul>
<li>Scientists in many application domains and many statisticians speak
of hierarchical models.</li>
<li>Computer scientists and others sometimes speak of graphical
models.</li>
<li>A hierarchical model is typically a directed acyclic graph
(DAG).</li>
</ul>
</div>
<div id="nimble-models-as-objects" class="slide section level1">
<h1>NIMBLE models as objects</h1>
<p>When you create a NIMBLE model, it is an object in R.</p>
<p>You can:</p>
<ul>
<li>Get or set parameter or data values.</li>
<li>Determine graph relationships.</li>
<li>Calculate log probabilities.</li>
<li>Simulate (draw) from distributions.</li>
<li>More.</li>
</ul>
</div>
<div id="linear-regression-example" class="slide section level1">
<h1>Linear regression example</h1>
<p>Lets use a really simple model:</p>
<ul>
<li>Linear regression with 4 data points.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>code <span class="ot">&lt;-</span> <span class="fu">nimbleCode</span>({</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  intercept <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  slope <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  sigma <span class="sc">~</span> <span class="fu">dunif</span>(<span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    predicted.y[i] <span class="ot">&lt;-</span> intercept <span class="sc">+</span> slope <span class="sc">*</span> x[i]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    y[i] <span class="sc">~</span> <span class="fu">dnorm</span>(predicted.y[i], <span class="at">sd =</span> sigma)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(code, </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">data =</span> <span class="fu">list</span>(<span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">inits =</span> <span class="fu">list</span>(<span class="at">intercept =</span> <span class="fl">0.5</span>, </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">slope =</span> <span class="fl">0.2</span>, </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">sigma =</span> <span class="dv">1</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>)))</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Setting data and initial values</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<p><code>x</code> values are neither observations (data) nor
parameters. <code>x</code> can also be provided in
<code>constants</code> (this is generally best, unless you plan to
change <code>x</code>) or in <code>data</code> (for consistency with
WinBUGS/JAGS).</p>
</div>
<div id="draw-the-graph" class="slide section level1">
<h1>Draw the graph</h1>
<p>This was done with package <code>igraph</code>.
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAASACAIAAAC2oxHNAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAgAElEQVR4nOzdeXiV1bk34BUSIMwqo2UQUatirQJWGWSwhiiaIEodEMF+1dKqLbT2tHpqi1q1DqfnWGm1lToiimMVEicIk0zaCjggWsGADKKMMgdIyPfHjhiTHRKSkOHlvq9eV8O79l7vsy2+Zf9Yz1oJ+fn5AQAAAIDoqlPdBQAAAABwcAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACJOAAQAAAAQcQIgAAAAgIgTAAEAAABEnAAIAAAAIOIEQAAAAAARJwACAAAAiDgBEAAAAEDECYAAAAAAIk4ABAAAABBxAiAAAACAiBMAAQAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHECIAAAAICIEwABAAAARJwACAAAACDiBEAAAAAAEScAAgAAAIg4ARAAAABAxAmAAAAAACIuqboLADgk7Nmz57bbbvviiy+quxAI3/3ud6+77rrqrgJqhwkTJsyYMaO6q+AAtGrVavTo0XXr1q3uQgBqnIT8/PzqrgEg+ubMmXPmmWdWdxVQYMuWLU2aNKnuKqAWOOKIIzZt2lTdVXBgZs6c2adPn+quAqDGsQIIoCrs2bMnhBDaHhMG/ay6a+HQ9vBNIWdHwW9IoDQF/7KMuCvUrV/dtVAGEx8Iq5Z4xAHEJQACqEJHHBnOubK6i+DQNu4PIWdHdRcBtU3K0JDcqLqLoAxmvxRWLanuIgBqKJtAAwAAAEScAAgAAAAg4gRAAAAAABEnAAIAAACIOAEQAAAAQMQJgAAAAAAiTgAEAAAAEHFJ1V0AADXJ1pxw9/Tw5c4wqk84rkV1VwNAafJDWLYh/HtlWLs1/Lx3dVcDQM0lAAKgkNnLw3ufhRBCxgfh+r7VXQ0AJftkffjn++G9NWHzzhBC6NS8ugsCoEbTAgZAISe1DvUSQ0JC6NK2cibM21s589Rwh8jHBGqUDoeHn/cO1/Ss7joAqB0EQAAU0uHw8Pjl4eFLw1nHVsJs+SHcO7MS5qnhDpGPCdQ0dRNDclLo2TEcllzdpQBQC2gBA+CbGtULjepVzlT/fC+881nlTFWTHSIfE6ix6tUNIae6iwCgprMCCICD493PwhNvV3cRB98h8jEBAKjlBEAAHASLvwh/zAp786u7joPsEPmYAADUflrAAPimL3PCrE/Cpp1h+GnfuL7yyzA7O7zxSbj53NCmSfj3ivDcu2HZxtCiUejZMVzeNSR+9ZcKs5eF/51RsC/ylpww8OGC63/7QWjb7OsJV2wKLy4K2evD51tDh8PCCa3CJaeGJt/cyWLbrjBjaXj9P+HWc0Oz5PD4v8PUJaFVk3Bdr3DsV6fU79gTJi4KH3wePt0UEhNC22bh7ONC32O+rueA7rhxR5i+NGR9HO5JD/WTwkvvh5mfhC+2hsb1w/fah+HfC03qH9jHBKiIdz8Lz78bcveGeomhbmLo1Dzk7Ak/OuMAZti0M7zwXli4KmzNCbvyQqvGoWu7cNHJoVmDoq8s+wOwsLI8WgGoAQRAAIQQQtiVG+Z9GmYsDe+sDnvzQ9d2Xw+9vTI8/25Y/EXBL/P2hgfnhdc+Cu2ahToJYfXm8Ny7Yf328Muvjo3v2TGcMTzc9Er4aG1okhweu6zgelJiwQ/5ITw5P8xZFi49NZx/Yli3LTy1IEz8IMxZHm48O3y7ZQgh/HtFeP0/YcHqkJsXQgh788M908O85SGEsHVXeO3D8LPeIYQwb3l4cF7o2i786PTQ8YiwenO4+bXw5zdC1pIwOjUkJx3AHWdlh1c+DIu/CPn5IYSwcUf40/Tw6aaQlBhy88LGHeH1/4T31oTRqQX5TqkfE6CCXv0wPPRWuDk1fPdbIYSwenO4fXL4YvsBBEBzloUH5oST2oTf9g9tm4atOeHJBeHF98O0peGnPUOvjgUvO9AHYExZHq0A1BhawAAIIYSwfntITAjNG8ZpaDqtfbgrLXQ/quCXf54Z6tYJT10R/nJRePSygj/iz/gkrN5c8II6CaFuYqiTEEIICSHUTSz4T8JXE45/O2QuDnedH/odG45tEXp0DLedF+onhfXbw11Tw568EEJo0Tic3zk0++pvm194LxzXItx7QTihVQghHHVECCG8kR3umhpSvh1G9g6dmoc6CaH9YaH/8SGEsGhNmLjo649Qljue1Cb8uHto1bjgLXdPDX2OCeOHhueGhzvPDx0ODyGENVvC/0wP+WX7mAAVsXVXePit0KVtQfoTQmjbLIzsE3LzCmKaUk1fGu6eFo5pHv777NC2aQghNEkOP+0ZzjsxbN4Z7p4aZmUXvPJAH4AxZXm0AlBjCIAACCGE0LZZ6N0p/KRniS/Y13LVq1P40RmhQd0QQmhYLwz+bggh5OeHD78o8b2Frdocnn8vnHfiN7oPDksOPTqGEML67WHKxyGEcPQRoUvbcOpXC5ESEsIPTgnHtAh3pYXHhoT0k8KmneEvs8LhDcMlp35j/r6dCpq/1m87sDse0TB0ah46ty54wSVdwsWnhKbJIbFOOKlNuP280LJxCCFkbwhzl5fpkwJUxJL1YXde2LzzGxdPbB2ObRH27C397dt2hUf+FUIIQ7qGhG8m0z/uHg5vEEIIY98MW3eFUK4HYBkfrQDUGAIgAAqJ7TERf+irdqrjv7mqf187wBdby3SLie+H/PzwnTZhb/43/vPtrwKm+au+fvG+Hq5zji/4oU5COKJhCCH8892wKzf0OzbU+2bB32oW/vvscMmpYUjX8tyx7lf/z9i17TemPSw5pHUu+Hn6kjJ9UoCK2Ls3hBA+XhemfjNJGXRymfaef+7dsHlnqJsYTmhddCixTsFiyc07wwvvfX39gB6AB/RoBaAGsAcQAN90oB1MyXULftiZW6bXx74S3PJ6iS/4dFOci42L7Tz65ooQQmgXb7vl0zuE0ztU9I7F/zl8/9jw2L9CfghrtpQ4Ve3x7rvvZmVlNW/e/Oyzz27fvn11lwM1xccffzxt2rRVq1b16dMnNTW1Oks5vlVoWC/s2B3GzAqLvwjDTytYa9OnU5ne/q8VIYTQqlH8p/qZR4dn3wkhhPkrww+/V3S0LA/A8j1aAag+AiAAqtCWnLB+ewghPHxpQUNB+WzNKVhwFFsNVAV3DCE0axCaJYcvc8KarSH/wJOymuThhx++4YYb8r/aRuTkk08eMGDAgAEDevXqVbdu3f2/F6Jn06ZNU6dOnTx58uTJkz/99NPYxTvuuGPkyJHVWVaT+uGnPcO9M0N+fpjycZi7PAztGs7rXLD12P7l54fPtoQQQkn78LRuUvBDGRPtIg/ArZX3aAWgqgiAAKhCm3MKfvgyp0LfGb78ap71O6rojjEtGhfcujanPyGE//7v/84vtIns+++///77799zzz3NmjVLSUmJhUHf+ta39jMD1Ha5ublvvvlmLPR5++238/LiJCVjxoxp0KDYWelVqd8xoX5i+OucsDUnbN8dxr4ZspaEX/UL7Q8r5Y07cws2it6wPf4LGtQtWF60Z2/Izy+6SVBchR+AlftoBaBKCIAAqEL1v9qvJ3tDOK7Ffl+6Xw2+WqWyZvN+X1d5dyyYLSmEMiw7qvHiftcNIWzevPmFF1544YUXEhISTj311FgS1KNHj8REZ9sTEUuXLo2FPtOnT9+ypfTFL7t3766CqvanR8fQuXV49N9h+pKQH0L2hvBfk8IdA8Kx+z1kvUHdUCch7M0Pe/LClpzQNDnOaxrXDzt2h6bJZUp/wjcfgJX7aK1sGRkZ/fr18+ACKMIm0ABVYfr06dVdQs3QsnFISgwhhNnZJb5m++6QvaGUeVo0Ktgf+s3lJW6GunlnyM+vtDvGrNseQggntirTi2uz/Pz8hQsX/vGPf+zdu3erVq0uu+yycePGrV27trrrgvL48ssv//nPf/70pz/t1KnTcccdd911102cOLEs6U8IYe/eMpy3dZDs3FNwknqzBuEXfcKfLgidmhdc/+ucUt6bEL5eJZS9Mf5rvtwRQgjf3m+QVFjhB2DlPlor23333XfVVVdVy60BajIBEEBVeP31krfJjLa8b353SkgIbRqHEMJ7a8LH6+K/5a+zQlIZ/u+pw+EhhLB6S5gW70yunNxw7xshb29l3jEnt6CZIuXbRYfyqu8r4sG3cePGZ5555sorrzzyyCNPP/30m2+++a233qrOb8VQBrm5uXPnzr3lllt69uzZokWLwYMHP/jgg8uWLTvQeRLKuDrmYHh7ZZhVKF45rkW4Ky2c8q0QQsjeELaXtjQpdhx7CGHG0jijm3eG3XkhhND3mDIVU+QBWImP1oNj3Lhx5fifGyDaBEAAVaE6v0IcqPxv/FfZ31BUw3ohhLBjT9FwJHb2cH5++NP0oifH780PD8wJyfUKwp39u+A7BT+MnRfmLf/G0I7d4bYp4ezjCv6Cunx3LP6xpi0JeXtD17YFX8D2/zGjaO/evf/+97//8Ic/dO/evXXr1ldcccVTTz21YUP1/A0/xJWdnf33v//9oosuatGiRa9evW699dZ58+aV1PNYqsTExHr16lVuhQfmrRXf+GVyUvjBKSGEUC/x6yasklz03dCiUQghzF0Wcoqd0jh3eQghnNQm/pliZXkAVtbD/ODIz89fvnx5dd0doGYSAAFUhV69elV3CWWzO6+g46D4t4Vdewp+KPLFYNtXfwtdJAGJffHIzy84KnjH7vD8uyGEcH7ngqHPt4brJ4Yn54cFq8P7a8IrH4ZRL4aP1oarTv96ktyvvrbtKPZ33b07heNbFpR619RwR1Z48f0we1mYsCBc+0Jo0TD0/upbzQHdcZ95n37jl5t2hn++H+olhh9+88UlfcyabcSIERWcYf369U8++eTQoUNbtWp12mmn3XjjjbNnz7YsiGqxffv2rKysG2+88bTTTjvmmGOuueaaF198cfPm0jYIK03Lli0zMjKSkqp1x8x/rQjLv9nAFQudv/utgoA7ZveeEELB03uf5KTwkx4hhJCTGx596xtDObkh44NQLzH8tGf8+5blAVi+R2sV8kQCKMIm0ABVoX///v/7v/9b3VWUwdL1BT+s3Bxy877xBePTTQU/rNkcOrf++vp/vtoXZsWmUFjvTuG1j0II4U/TQ+c24bPN4fp+IYRQLzH8rn+4a1r4fEvYuis8887XbzmuRRidGhrXL/hlfgiffPXNZ9HncU69+W3/cM+08MHnIT+Etz4Nb331jaXfsWFk769fVvY7Fva3OWHFppB6fDiiQVj8RXjsX2HH7vC71NDxiDJ9zJrtzjvv7Nat289+9rM9e/YUH01OTs7JySl+Pa69e/fOnz9//vz5d999d8uWLfv165eWlpaenn744dX2N/8cCvLy8t55552srKysrKw33nij0rdqPuuss8aPH1/9Z+Hl7Q1/mhFu+H7BAzAnN0xYEA5vEK478+vXfL614EyuddvCzj1f75EfQjjjqHDzOeG+meHVj0Jy3TCka6ifFFZsCvfPDol1wr2DSjxNrCwPwPI9WgGoPgmFT4EF4CCZMWPGWWedFU4+M9wxqbprKcGiNWH2sjBrWdj61Tf/ow4PXdqGy7uFFZvCxEVhdnbB2p8GdUOfTiHtpNC8YXhifpj6ccFGEiGEru3ChSd/3SDw0qKQ8UHYtit0bh2Gfy8cXeibw4494fl3w3/WhuwNoUHd0P6wcPa3Q+9OXx+v/vy7YeYnX6dOSYmhx1Ghc+twfudvlL03P7z0fpjxSVizJTSpH45uHtJPCqfG+85W6h1j/jorTP44hBBuHxBe/Sj8Z23YkhNaNgqnHxUGnRwOj3cg9H4+Zg009JiwddOGDRuOOOKIKVOmXHLJJV9++WXxV7Vu3fqqq6567733srKyyh4G7ZOYmHjqqafGkqCuXbvWphZIarY1a9ZMmTIlMzNz6tSpGzeWsLdxaTp27Fi/fv3//Oc/cUeTkpJuuumm0aNH16lTJ4TQpEmTbdu2hWdXhuRG5a+7fBasDgtWhSXrwtL1oW2z0Cw57M4Lx7YIQ7oUZCsrvwwvLw5zlofNOwve0uHw0K1duOA73ziscPPO8MJ7Yf6qsGF7aFgvHNYg9OwYBn4n1CvWRFaOB2AZH61V5vcXhndnxn7Myso6++yzq6kOgJpIAARQFWpBAETMvu8/Tw4NTeIdnFzbFQqAQghLlixJS0v7+OOPi7+wUaNGTzzxxLnnnjtnzpysrKyJEyd+9NFH5bhhq1atzjnnnPT09P79+x92WAnLDaBk27dvnzdvXmyxz/z588s3SatWrfr27ZuSktKuXbuRI0d+8skncV/WoUOHp556qnDTbnUGQFUvAg9AARBAybSAAcCh67jjjps7d+7gwYNnzpxZZGj79u2DBw8ePXr0LbfckpKSctddd2VnZ2dlZWVkZEyZMmXXrl1lvMXatWufeOKJJ554wrIgym7v3r0LFy6sYIdXgwYNevXqlZKSkpKS0rVr1xDCmDFjLrzwwpJmu+iiix566CHdiwBElQAIAA5pzZs3nzx58ogRIx5//PEiQ/n5+bfeeuvHH3/8yCOPJCcnd+rUacSIESNGjNixY8fcuXMzMjJeeumlFStWxJ22uLy8vNhuQbfeemvr1q1TU1PT09PPOeecpk2bVvZnorb6/PPPZ82alZGR8fLLL5e7w6tTp04pKSlpaWn9+/dPTi5YxrJ27dorr7zytddei/uWBg0a3HnnnaNGjSpn3QBQGwiAAKCQQ7Ixul69eo899liXLl2uv/764ufmTJgw4dNPP33xxRdbtWoVu9KwYcPYqor77rsvOzs7IyMjMzPzgJZpfPHFF7FlQUlJSWeccUZ6enpKSkq3bt0q81NRS8TyxNhinwULFpRvd4LYBuQpKSnnnXdeu3btioxmZWUNGzbs888/j/vezp07P/300yeffHI57hs1h+QDEODQIQACgEJ2fnUq1s7c0KRaK6lyo0aNateu3fDhw3fs2FFkaO7cuT169MjMzDzxxBOLDHXq1GnUqFGjRo3avn37tGnTMjMzX3nllVWrVpXxprm5uXPmzJkzZ04I4eijj+7fv39KSsq5557bpMkh9k//EFO4w2vWrFll7ygsLDk5+cwzz9zX4RW3qXDPnj133HHHbbfdVtKJ4MOGDfv73//esGHDuKOHnEP4AQhwKBAAAUAIIYT8EJasCwtXF/xy0Zrw/eOqtaBqMHjw4GOPPTY9PX3lypVFhrKzs88444ynn376vPPOi/veRo0apaenp6enhxA++OCDzMzMrKysmTNnxj1pPq5ly5aNHTt27Nix+7ZuGThwYPHIidrriy++eOONN2I7Sa1Zs6Z8k8Q6vMoSFC5btuzyyy9/88034442a9Zs7Nixl1xySfnKiBoPQIBDgFPAAKqCU8BqgV9P+vrU+RBCnYTQuU3ocFj44enVV9NB8M1TwOL67LPPLrjggrfffrv4UFJS0r333vuzn/2sjHfbuHHj1KlTs7KyMjMzP/vss3LUu28/l9TU1Pr165djBqpX5XZ4DRgwoH379mV5y7hx46677rpt27bFHe3bt+/48eOLN4sVd6icAhaZB6BTwABKJgACqAoCIGqKMgRAIYTt27dfccUVL730UtzRESNG3H///UlJB7COuHDLz4wZM3Jzcw+s7BAaNmzYs2fPtLS0QYMGHXXUUQf6dqrYvlVg5e7wKrw/VJcuXerUqVPGN27duvXaa68dP3583NHExMTf/e53v//97xMTE8sy26ESAEWGAAigZAIggKogAKKmKFsAFL46AuzWW2+NO3rOOec888wzzZo1K0cJ69evnz59elZW1qRJk0ral3f/OnXqFDtOvnfv3pYF1Rxr166dOXNmRRZ8hUIdXuU7IW7+/PlDhgxZsmRJ3NH27duPHz++T58+ZZ9QAFTLCIAASiYAAqgKAiBqijIHQDGPPvroT3/607jHe33nO9/JyMjo2LFjuWvJy8t75513YjvCzJ07txx/Jtm3LOiiiy4qY2cQlWvnzp1z5sypYIdXixYtzjrrrNi2Ph06dChfJfn5+WPGjPnNb35T0ml0gwYNevjhh8v4O38fAVAtIwACKJkACKAqCICoKQ4wAAohzJkz58ILL1y3bl3xoRYtWvzzn//s3bt3xetat27djBkzMjIyMjIyvvzyy3LMsG9ZUJ8+ferVq1fxktiP7OzsWHKXlZWVk5NTjhmSkpJOOeWU2AZPPXv2LHuHV1zr1q374Q9/+Morr8QdTU5Ovuuuu0aNGlWOmQVAtYwACKBkTgEDAPanV69e8+bNS09P//DDD4sMrV+/vn///g899NAVV1xRwbu0bNny4osvvvjii2PLgjIyMjIzMw9oRUl2dvaYMWPGjBnTqFGjs846K3B70kkAACAASURBVD09/fzzz2/btm0FC2OffR1eL7/88urVq0t/QzwV7PCKa9q0acOGDSup6ezEE0+cMGHCKaecUin3AoDaSwAEAJTimGOOefPNN4cMGVJ8hcWuXbuGDx++aNGiP/7xjxVcxBGTmJjYrVu3bt263XLLLV988cXrr7+emZk5efLkzZs3l3GG7du3Z2ZmZmZmhhA6d+4c20W4b9++devWrXh5h5pK6fBq3rz597///VjoU7kbeOfm5t5+++233Xbb3r17475g2LBhf/vb3xo1sngHAARAAEAZNG3adOLEib/85S//+te/FhnKz8+/++67s7OzH3vssYYNG1biTVu3bj18+PDhw4fn5eXNmzcvdqrU/Pnzyz7D4sWLFy9efPfdd+/LINLT04888shKLDKSYh1eWVlZr7322tatW8sxQ2Ji4qmnnhpb7NOvX78DOjOujD799NPLL7987ty5cUebNm364IMPXnbZZZV+XwCopQRAAECZJCUl/eUvfzn55JOvu+664ue4P/fccytWrHjppZfatGlT6bdOTEw888wzzzzzzBDC8uXLJ0+enJWV9frrr2/ZsqWMM2zYsOG555577rnnrrnmmi5dulTW1jNREtuGKSsr65VXXlm1alX5JtnX4ZWamlq+Q+LK6IUXXvjxj3+8adOmuKOnn376hAkTOnXqdPAKAIBaxybQAFWhYBPolu1Cn8HVXQuHtoy/h927DmgT6OJef/31Sy+9NG5PVtu2bSdNmtS1a9cKlFhWOTk5s2fPji1UOaBlQfvEDp+KbR19+OGHV3qFNV9ubu6bb74ZW1pV7g6vxo0b9+vXLz09PTU1tSKnwpXRzp07b7zxxjFjxsQdTUhI+PnPf/6nP/2psjr+CjaBvuCakGRn8dpg1j/D2pWxH20CDVCEAAigKrz11lvdu3ev7ioghBDq1KmzZcuWCu6KsmjRovT09OXLlxcfaty48ZNPPjlw4MCKzH+g9rUsvfrqq9u2bTvQt8f6lWJJUNeuXRMSEg5GkTVH5XZ4VeX+Sh988MFll122aNGiuKOtW7d+/PHHzznnnEq8Y8uWLdevX1+JE1JlBEAARQiAAKpCfn7+I488UvxbxJdffnnPPfcU2b70Bz/4wWmnnVaF1dUm48aNW7x48b5fJicnDx48+OSTT67GkmqdE0444YILLqj4POvXr7/oootmzZpVfCgxMfGOO+644YYbKn6XA7Vv0+KJEyd+9NFH5ZihVatWffv2TUtLGzhw4GGHHVbpFVaX9evXT58+PZaRrVy5snyT7Ovw6t+/fxX/w8nPz//HP/7xi1/8YufOnXFfkJqa+vjjj1d6B+L06dP/9a9/Ve6cVS8/P//ll1+ePXv2vitHHnnkyJEjo5R1PvTQQ0uXLi18RQAEUIQACKCapaenx44r2qdLly4LFiyornpquOTk5F27dhW5+LOf/exPf/pT/fr1q6WkQ9muXbuuvvrq8ePHxx29+uqrH3jggWo8eyu2ziUjI2PKlCnFf9uUKgLLgnJzc999992MjIzMzMyFCxeWdFTW/jVu3Lh79+6xROzoo4+u9CLLYv369T/60Y8yMjLijtavX//uu++OWJxRiXbu3Dls2LAXXnihyPX58+dXTbdm1UhJSZk6dWrhKwIggCIEQADV7JVXXjn//POLXHzrrbdOP/30aqmnhmvbtu1nn31W/Hq3bt2eeeaZY445pupLOsTl5+ffc889v/3tb+OGC7179/7nP//ZokWLqi+ssB07dsydOzcjI+Oll15asWJFOWZo3bp1ampqbJubg7q3caXY1+F1QPtkF1ZdHV5xzZgx44orrli9enXc0eOPP37ChAldunSp4qpqi/Xr1w8cOHDevHnFhwRAAIcaARBANcvPzz/++OOXLFlS+OIPf/jDRx99tLpKqsnuu+++X/ziF3GHmjVr9tBDD/3gBz+o4pIIITz33HNXXnll3N6cY489NjMz8/jjj6/6quLKzs6OrYh54403du/efaBvT0pKOuOMM9LT01NSUrp163YwKiyffR1er732WvlCrlCowyslJaUm7Iqdm5t7++2333777Xl5eXFfMGzYsAceeKBx48ZVXFhtsXTp0vPOO6/I/7/EnHzyye+8806UTsETAAGUSgAEUP3uueeeIrulNGjQYOXKlc2bN6+ukmqyBx544Prrry+po0c7WHV58803L7zwws8//7z40BFHHPH888+fddZZVV/Vfmzfvn3atGmZmZnlPvX86KOP7t+/f0pKyrnnntukSZNKr7BUsQ6vWJvbvHnzytfh1ahRox49eqSkpKSnp3fu3LnSiyy3FStWDB06tPC2NYU1bdr0gQceGDp0aBVXVYu8+eabAwcOXLduXfGhE0444fXXX+/QoUPVV3XwCIAASiUAAqh+GzZsaNeuXU5OTuGL//M///Nf//Vf1VVSDbdgwYJLL720yH6f+3Tt2vWZZ5459thjq7gqVq9enZ6evnDhwuJDSUlJY8aMueaaa6q+qrL44IMPYkehz5w5c8+ePQf69uTk5DPPPLPKMpR9HV6TJ0/evHlzOWYo3OHVp0+fevVq3AHnL7744tVXX71x48a4o6eddtqECRP8O74fL7300tChQ3fs2FF8qEePHpMmTar2xsxKJwACKJUACKBGuPLKK8eNG1f4yjHHHPPxxx9HaX1+5dq6deuIESOefvrpuKNNmzYdO3bspZdeWsVVsW3btqFDh06aNCnu6MiRI++9996a/Lt648aNU6dOzcrKyszMjLvbVKliXVRpaWn9+/dPTk6urMI2bNgwbdq02LY+n376afkm2bdkqYZ0eMWVk5Nzww03jBkzJu5oQkLCz3/+8//5n/+pgaFVzXHfffddf/31cVeEDR48+IknnmjQoEHVV3WwCYAASiUAAqgR3nrrre7duxe5+Oqrr5577rnVUk9tMW7cuJ/+9KclHQs9bNiwBx98MJJfdWqyvLy8m2666e677447OmDAgKeffrpp06ZVXFU57FsWNGPGjNzc3AN9e4MGDXr16pWSkjJo0KDybYGUl5f3zjvvxBb7lK+GUKjDq6ZtWhTXhx9+eNlll7333ntxR1u1avXYY48NGDCgiquqRfLz82+99dZbb7017mjNT2ArQgAEUCoBEEBN8b3vfe/tt98ufGXgwIETJ06srnpqC+1gNdNDDz107bXXxm2n+u53v5uRkVGL9h/Zt/pm0qRJcTc5KtW+ZUGpqamlblB1KHR4xTVu3LhrrrkmbtdSCCElJWXcuHFHHnlkFVdVi+zatevKK6985plnig8lJibed9991113XdVXVWUEQAClEgAB1BQPP/zw1VdfXfhKnTp1Pvnkk44dO1ZTRbWGdrCaKSsr65JLLtm0aVPxoSOPPHLixInf+973qr6qiti7d+/ChQsrsulyw4YNe/bsmZaWdtFFF7Vv337f9W3btk2fPj0zM3Py5MnLly8vX3lt2rTp3bt3WlpaWlraEUccUb5JqsXmzZt/8pOfxE0uQghJSUk33XTT6NGjo7p0pVJs3Lhx0KBBs2bNKj7UqFGjCRMmpKenV31VVUkABFAqARBATbFz58527doV2fT0t7/97R133FFdJdUu2sFqoKVLl6alpf3nP/8pPpScnPzwww9ffvnlVV9VpVi3bt2MGTNiJ8rHDblK1alTp9NPP71x48bZ2dmzZs0qx+bT4atEqbZ0eMX11ltvDRkyZNmyZXFHO3bs+NRTT/Xo0aOKq6pdsrOzzzvvvLj/ojVv3nzSpEk9e/as+qqqmAAIoFQCIIAa5Prrr7/33nsLX2nZsuXKlSsdal5G2sFqoI0bN/7gBz+YPn168aGEhITRo0fffPPNCQkJVV9YZYnt1BNLghYsWFAFf7KqU6dOly5dYqFP7969a+/zYe/evX/5y19+/etflxR+XXzxxWPHjj3ssMOquLDa5a233ho4cODatWuLDx177LGvvPLKcccdV/VVVT0BEECpBEAANcjSpUuPP/74In0lTz75ZO1dJVH1tIPVQLt37/7JT37y2GOPxR299NJLH3300Wgszlq7du1rr70W6+Qq3/Y9+xHr8IodNh+BrXBWrVo1dOjQN954I+5o48aN//d//3fEiBFVXFWtcwge914SARBAqQRAADVLamrqlClTCl/p1avX7Nmzq6ueWko7WA20n6Ope/To8dJLL7Vq1arqqzpI8vLy5syZ88gjj2RlZa1evbrc89SrV++MM844//zzU1JSunbtWquXShU2ceLEq666asOGDXFHu3btOmHChG9/+9tVXFWtc2ge914SARBAqeylB1CzXHPNNUWuzJkzZ8GCBdVSTO01fPjw2bNnl9Tt9cQTT5x55pkldYpxkIwaNSojI6NJkybFh+bNm9e9e/fFixdXfVWVLjs7e+zYsUOGDBk0aNDjjz9ekfQnhLB79+45c+Y899xzzz333Jw5c8qx7XRNk5OTM2rUqAsvvDBu+pOQkDBy5Mi5c+dKf/YvPz//lltu+cUvfhH3t8TIkSOfffbZQyr9AaAsrAACqFny8vKOOeaYTz/9tPDFn/zkJ3//+9+rq6TaSztYDfTee++lp6evWLGi+FCTJk2eeuqptLS0qq+qgrZv3z5v3rzY2e3z588/eDdq0aLFWWedlZKSMnDgwDZt2hy8Gx0kH3300ZAhQ9555524oy1btnz00UfPP//8Kq6q1jnEj3sviRVAAKUSAAHUOLfddtvo0aMLX2ncuPGqVauaNWtWXSXVatrBapo1a9ZccMEF//73v4sPJSYm/t///d/IkSOrvqoDFdv7ORb6vPHGG7t37y7HJImJibGpyvHGU089NSUlJS0trVevXrWiNWzcuHHXXnvt9u3b446eddZZ48eP/9a3vlXFVdU6jnsviQAIoFQCIIAa5/PPPz/qqKOKfJ8cM2bMz3/+8+oqqbZzOlhNk5OT86Mf/WjChAlxR0eMGPHXv/61bt26VVxVWaxZs2bKlCmZmZlTp07duHFj+Sbp1KlTWlpaenr6mWeemZ+fP2fOnKysrEmTJn344YflmK1ly5b9+vVLS0sbOHBgzTwwa8uWLddcc81TTz0VdzQpKemmm24aPXp0nTq2JiiF4973QwAEUCoBEEBNdNlllxVZ3n/iiSd+8MEHteLv+Wsm7WA1TX5+/q233vqHP/wh7h9FUlNTn3nmmRoSZ1RKh1erVq369u2bkpJy/vnnt23bNu5rsrOzs7KyMjIypkyZsmvXrgO9RWxZUCxaqjk7Rv/73/8eMmTIJ598Ene0Q4cOTz31VK9evaq4qtrIce/7JwACKJUACKAmmjlzZr9+/YpcnDZt2llnnVUd5USHdrCa5umnn/5//+//5eTkFB866aSTMjIyjj766KqvKoSwd+/ehQsXVrDDq0GDBr169UpJSTnQM7x27Ngxd+7cjIyMiRMnFtkRrIxat26dmpqanp6emppaXd2j+fn5Y8aM+c1vflPSP72LLrrooYceOvzww6u4sNrIce+lEgABlEoABFBDffe7333//fcLX7n44oufffbZ6qonMrSD1TRz58698MIL465raN68+QsvvNC3b98qK+bzzz+fNWtWRkbGyy+/XJEOr9juPP37909OTq5gSdnZ2RkZGZmZmeXLoZKSks4444z09PSUlJRu3bpVsJiyW7t27ZVXXvnaa6/FHW3QoMGdd945atSoKqunVnPce1kIgABKJQACqKHuv//+n/3sZ4WvJCUlLV++vKTmEcpOO1hNk52dnZ6eHvcY+Pr1648dO3b48OEH7+6x5TaxxT4LFiwo3x+NYhvxpKSknHfeee3atav0IkMI27dvnzZtWmZm5quvvrpy5cpyzNCxY8fU1NSUlJRzzz23SZMmlV7hPlOmTBk+fPjnn38ed7Rz585PP/30ySeffPAKiIxYp+Stt94ad3TkyJH33nuvvZNiBEAApRIAAdRQW7dubdeu3ZYtWwpfvOWWW26++ebqKilitIPVKFu3bh0yZMjLL78cd7TSv+gW7vCaNWtWOTbcCSEkJyefeeaZ5ejwqrh9y4Jmzpy5Z8+eA3174cord1nQnj177rjjjttuuy3ucpUQwrBhw/7+9783bNiwEm8aVY57PyACIIBSCYAAaq5rr732b3/7W+ErRx555KefflozT0eqjbSD1Sh5eXm//OUv//KXv8QdHTx48Lhx4yoYHHzxxRdvvPFGbKPlNWvWlG+SWIdXFayjKYtt27ZNnz49MzPz5ZdfXr16dTlm2PdxBgwY0Lhx44oUs2zZsssvv/zNN9+MO3rYYYc9+OCDl1xySUVucehw3PuBEgABlEoABFBzLV68+Dvf+U6RB/Xzzz8/ePDg6ioperSD1TRjx4697rrrcnNziw+deuqpkyZNat++/QFNWLkdXgMGDDjQAqrMBx98kJmZmZWVNWPGjLj/APdv35bVF1xwwQknnHCgbx83btx11123bdu2uKN9+/YdP378QWqOix7HvZeDAAigVAIggBqtb9++b7zxRuErZ599dlZWVnXVE1XawWqUyZMnX3LJJZs3by4+9K1vfWvSpEll6Vral4aUu8Or8PbJXbp0qUU7rWzYsGHatGkVWei0bx/r1NTU+vXr7//FW7duvfbaa8ePHx93NDEx8Xe/+93vf//7xMTEclRyCHLce/kIgABKJQACqNGefvrpIUOGFLm4aNGik046qVrqiTDtYDXKokWLBg4cuGzZsuJDjRo1Gj9+/KBBg4oP7evwyszM/Oyzz8p3630tUeecc07Tpk3LN0kNsW+ro4yMjHnz5pW0L89+NGzYsGfPnmlpaRdeeGGHDh2Kv2D+/PlDhgxZsmRJ3Le3b9/+ySef7N279wGXfqhy3Hu5CYAASiUAAqjR9uzZ07FjxyJfZUeNGvXnP/+5ukqKMO1gNcqGDRsuuuiiIivgYhISEkaPHn3LLbeEEHbu3DlnzpwKdni1aNHirLPOim3rEzfmiID169dPnz49tnX0pk2byjFDp06d0tLS0tPT+/TpU69evfz8/DFjxvzmN78p6XD6QYMGPfzww0cccUTFCj+EOO69IgRAAKUSAAHUdL///e9vv/32wleaNWu2evXqRo0aVVdJ0aYdrObYtWvXiBEjxo0bF3e0V69ezZo1mzZtWk5OTjkmT0pKOuWUU2KNTj179qxFHV4VlJeX984778SSoPJFZo0aNerVq9dnn322aNGiuC9ITk6+6667Ro0aVeFiDxWOe684ARBAqQRAADXdypUrO3XqVGRL17Fjx/74xz+urpIiTztYzZGfn3/PPff89re/LUf7UlxR6vCquLVr186cOTMjIyMjI+PLL7+slDlPPPHECRMmnHLKKZUy26HAce+VQgAEUCp/kwBQ07Vv3z4tLa3Ixfvvv79aijlEdO3adcGCBZdddlnc0QULFnTr1i3utzUqXU5OTrdu3QYOHFiR5Q/Nmze/+OKLH3zwweXLl3/yyScPPvjgxRdfLP0JIbRq1eriiy8eN27c+vXr33777Ztvvrlbt24JCQnlnrB79+6TJk2S/pTdxo0b+/fvH/d50qhRoxdffFH6A0BlsQIIoBaYPHnyOeecU+Ti3Llze/ToUS31HDq0g1WX7Ozs2LY+r776akkni+9fYmLiqaeeGlvs069fv6SkpEovMqq++OKL119/PTMz8/XXX9+yZUs5ZujcuXPs9DT/5PfPce+VyAoggFIJgABqgfz8/BNOOOHjjz8ufPGKK6544oknqqukQ4d2sCqzbt26GTNmZGVlvfLKK6tWrSrfJPs6vFJTU5s1a1a5FR5qcnNz33zzzczMzKysrPnz55djhubNm3//+99PSUkZOHBgmzZtKr3CWs1x75VLAARQKgEQQO3wf//3f7/61a8KX6lXr97KlStbtWpVXSUdOpwOdvAUjhjKfYbXPj/84Q8feuihxMTEyiqPEMLOnTtvvPHGMWPGVGSSOnXqdOnS5RDccrskjnuvdAIggFIJgABqhy+//LJt27ZFvi3ceeedN954Y3WVdKjRDlaJ9nV4vfbaa1u3bq3Emc8999xnnnnG/j6V5YMPPrjssstKOu2rfFq2bNmvX7/YifKHH354Jc5cWzju/WAQAAGUSgAEUGtcddVVjzzySOErHTp0yM7Ott6hymgHq4j169dPnz49tq3PypUryzfJvg6vzz///L/+6792795d/DUnn3xyRkbGUUcdVbF6D3X5+fn/+Mc/fvGLX5QUeqampt52222xE+WzsrJycnIO9BaxfZpiSVDXrl0rsvl0beG494NHAARQKgEQQK2xcOHCrl27FrmYkZFR/IwwDp5S28EefPDBko4POwTl5ua+++67GRkZmZmZCxcuLN9R7o0bN+7evXtaWtrAgQOPPvrofddnz5590UUXrVu3rvhb2rRpM3HixNNPP738pR/a1q9f/6Mf/SgjIyPuaP369e++++6RI0fui2x27tw5Z86cjIyMiRMnfvrpp+W4Y6tWrc4555z09PRat3nT888/37Rp09TU1FJf6bj3g0oABFAqARBAbXLGGWf861//KnzlvPPOe/nll6urnkOWdrD929fhVe5jpAqf4dW3b9+6devGfdnSpUvT09M/+uij4kP169d/+OGHhw4dWo67H+JmzJhxxRVXrF69Ou7o8ccfP2HChC5dupT09tj/+hkZGVOmTNm1a9eB3j0xMbF79+6xQ8Rq/rKgZcuWHXPMMYmJiS+99NL555+/n1du3LjxggsumD17dvGhRo0aTZgwIT09/aCVeUgQAAGULh+A2uPRRx8t8hhPSEj4+OOPq7uuQ9H8+fP30+3VtWvXJUuWlHGq5557rm/fvsuWLTuY9R5069ate/bZZ0eMGNGhQ4dy/7GkU6dOI0aMePbZZzdu3FjG+27cuPH73/9+3NkSEhJuuOGGvXv3HtQPHiV79uy5+eab99NVOmzYsK1bt5Zxtu3bt0+ZMmXkyJHt27cv3++Hjh07xn4/bN68+aB+8HK76667YqU2btz47bffLulln3zyyfHHHx/3MzZv3nzOnDlVWXNUFc96srKyqrsogJrFCiCA2mTXrl3t27cv0vPym9/85u67766ukg5lldIOtmjRojPOOGPHjh3XXnvt/ffffxDKPIhiHV6x5R7z5s0rX4dXo0aNevTokZKSkp6e3rlz5/KVMWrUqAceeCDu6CWXXPLYY48dyguyymjFihVDhw6Nu0QlhNC0adMHHnig3CuqsrOzY52Ab7zxRtydm/YvKSnpjDPOiC0L6tatW/lqOBi6du26cOHC2M9t2rSZN29ex44di7zGce9VwwoggFIJgABqmV//+td/+tOfCl9p3rz5qlWrkpOTq6ukQ1xF2sG2b99++umnL168OITQuHHjVatW1YrdT/Z1eE2ePHnz5s3lmKFwh1efPn3q1atX8aruu+++X/3qV3l5ecWHunfv/tJLL7Vu3brid4mqF1988eqrr964cWPc0dNOO23ChAmVssH59u3bp02blpmZ+fLLL5fUZbZ/+zYCHzBgQOPGjSteUrl9+OGHRSLLzp07z549u/DRZo57rzICIIDSVfcSJAAOzNKlS4ufEfP4449Xd12HtAULFpSvHWzYsGGFX3nvvfdWceVlt379+liHV0VO1zr66KMPtMPrgLz66qslHQDfrl27BQsWHIyb1nY7d+4cOXJkSf+TJSQkjBw5cteuXQfj1osWLbrrrrtSUlJK2uNp/xo0aJCSknLXXXctXrz4YJRXql//+tfFq+rTp09OTk7sBX/+859LOtJr8ODBO3bsqJayo0oLGECprAACqH0GDBjw2muvFb7SvXv3efPmVVc9hHK1gz3yyCNXXXVV4StHHXXUkiVLyvdl+GDIy8t75513Yot9ZsyYkZubW45J9nV4VU3zzvvvv5+enh73IKrGjRs/9dRTttotbPHixUOGDHnvvffijrZq1eqxxx4bMGDAwS5j48aNU6dOjfUSrlmzphwzxJYFpaWlpaam1q9fv9IrLC43N7dDhw5xq7300kuffPLJ2267zXHvVckKIIBSCYAAap+MjIyBAwcWufj222/XqK0xDk1lbwf74IMPTj/99OKNIY8//vjw4cMPeqH7VTM7vMpuzZo1gwYNKnJe3r7C7rjjjhtuuKEq66mxxo0bd80118TtTgohpKSkjBs37sgjj6zKkvbu3btw4cKK7CrVsGHDnj17pqWlDRo0qCKr1Uo1adKkCy64oKTRE0888cMPPyx+3XHvB48ACKBUAiCA2mfv3r3HHnvssmXLCl+8+uqr//GPf1RXSeyzcOHCSy65ZOnSpXFHu3bt+swzzxx55JHf+9734n4/POmkk95///2qP/p627Zt06dPz8zMnDx58vLly8s3SZs2bfr375+enn722WcfccQRlVrggcnJybn66quffPLJuKM//vGP77///pqz0qrqbd68+Sc/+ckzzzwTdzQpKemmm24aPXp09S5RWb9+/fTp0zMyMl5++eWSNifav06dOqWlpaWnpx+MFPKcc86ZPHnyAb3Fce8HlQAIoFQCIIBa6c477/ztb39b+EqDBg1WrVpVvd+6iSm1HeyUU06ZNWtWSW9/9tlnL7744oNW3dcKd3jNnDlzz5495ZgktuCiyjq8yi4/P//WW2/9wx/+EPePOikpKc8999xhhx1W9YVVu7feemvIkCFFEuR9Onbs+NRTT/Xo0aOKq9qPfb9RMzIy5s79/+zdd1xT19sA8JvB3lNAQAUFUVTEgYILZQpRFBBQcW9LW20tXWi1u/qzjta66gAqIqggyAwoDhwoOEHZDvbeEDLeP2J509wkZN8kPN+Pf+i55577iB5yeO4ZuUKMXTU0NFxdXUkkkre3t9Bn0rMqKioaP368QJGYmJgkJSVNnTpV9KcDjiABBAAAg4IEEAAAyKXGxkYLC4veT0+vAwAAIABJREFU3l7Wwt9///3TTz/FKiTAhvdyMB5sbGxevnxJJBIlERXCssIrMzOztbVViBbwePzkyZOZSZ/Zs2dLZ8sV4cTGxq5du5bjv8KYMWOSkpJsbW2lHxVW6HT60aNHd+3axS3ZFxgYePLkSVnOizU0NNy8eTMpKSkpKUm4/70D04Lmzp0r9Cyw7du3Hzt2jP/6cNy7FEACCAAABgUJIAAAkFcrV65kW+EyevTo4uJi6a8eAtzwXg7Gw7lz51avXi3GSDo7O+/fv08mk69du8Zx6Rk/TExMZs+e7ebmRiKRpLw1jCju37/v5+dXV1eHvqSvr3/58uV58+ZJPSgMvH//fsWKFbdu3eJ4VUtL68CBA5s2bZJyVEJjTgtKSkpKTk5mnu8maAuamprz5s0jkUg+Pj7Dhw/n/8aGhoZRo0Z1dXXxWd/R0TE9PR2Oe5c0SAABAMCgIAEEAADy6u7du7NmzWIrzMzMdHNzwyQewBHv5WDcjBgxoqioiLldtNDEvsLL0dFRTtOL79+/J5FIT548QV9SVlY+ceLEmjVrpB6UVCUmJq5fv76pqYnjVUdHx4sXL8rv/JS6urr09HTmDlbCbVs+btw4Eonk5uY2b968QSffff311z///DP/jY8dOzY3N1dPT0+IwAD/IAEEAACDggQQAADIsSlTpuTn57OWLF269PLly1jFA7gRYjnYvn37IiIihHjWwAovMpnc0tIiRAsIy8/DMr7Ci3+dnZ0hISHJyckcryrwsdy9vb3h4eFHjx7lOOTD4XBhYWG//fabYvwrU6nU+/fvJycnk8nkx48fC9GCgYHB/PnzeUxza2trGzlypKCrz+bMmZORkaEYX2SZBQkgAAAYFCSAAABAjp04cWLLli2sJQQCoaysTKKHHwPhfPfdd3v37uW/vpqaWlFREZ//lF1dXffu3WMmfYT7uRdBkGHDhs2ZM8fNzc3X19fMzEy4RmQZjUb75ptvfv31V45Xly5dGhUVpa6uLuWoJOrVq1chISEcpz4hCGJkZHT27FkfHx8pRyUdlZWVGRkZZDI5LS2to6ND0NsHNrry9fV1dnYeSA7u3bv3u+++EyKe5cuXR0dHy+kcOrkACSAAABgUJIAAAECOdXZ2mpubsy15iIiI2LdvH1YhAY5evHjh5OTU3d0t0F3BwcExMTHcrrKu8Lp16xaFQhEiMDU1NRcXF3lf4SWQkydPfvTRRxwXxE2aNOnatWuWlpbSj0oSIiMjt23bxm2rGldX1+joaIXM9LHp7e29c+cO8xCxwsJCIVowNDR0dXX19fWdMWPG1KlThUgnMX311Vc//fSTcPeCQUECCAAABgUJIAAAkG8ff/zx0aNHWUtMTEzevHmjrKyMVUiATVdX17Rp04Tbevn69esLFy5kLampqcnMzExOTs7KympubhYupIGDkGbNmqWqqipcI/IrMzNz2bJlHFfxmJmZJSYmyvtZ3e3t7Vu2bOGWPSQSid98883u3bsVcskbbwMLJFNTUzs7OwW9HYcTdeT8xx9/bN++XZQWADeQAAIAgEFBAggAAORbUVHR+PHj2b6ZX7x4MSgoCKuQAJs1a9acP39euHvNzMxevHihrKws+govY2PjuXPnurm5CXrmkUIqKSnx9fUtLi5GX9LQ0IiKilqyZIn0oxKLvLy8kJCQsrIyjlctLS0vXLjg4uIi5ahkTU9Pz927d8lkcmJi4qtXr6T2XAKBcPny5cWLF0vtiUMHJIAAAGBQkAACAAC5N3/+/Bs3brCWzJ079+bNmxwrUyiU7OzsmTNn6ujoSCO4Ie/MmTPr168XpQUzM7PGxkZY4SV2TU1N/v7+OTk56Es4HG737t3CbfWCIQaDceTIkV27dnE78W3p0qWnT5+G46jYMKcFJSUlZWZm9vX1SfpxmpqaT548sba2lvSDhhpIAAEAwKAgAQQAAHIvLi5u2bJlbIXPnj2bMGECa8mbN29OnDjx999/19fXb968+fjx41KMcYh6+fLl9OnTBd36R3RWVlbMzWvd3d2H4Aov/lEolE2bNnGbnxUSEnLmzBl5+QLW19evXr06LS2N41U1NbWff/75k08+kXJU8qW7uzs3NzcpKSkhIeHt27cSegqBQMjNzZ0+fbqE2h+yIAEEAACDggQQAADIPSqVOnLkyKqqKtbC7du3//HHHwiC0On0jIyMv/766/r16zQajXn1k08+OXToEAaxDiVdXV3Tp08XbtNZIRgZGc2bN8/NzW3hwoXm5ubSeahiOHz48M6dO+l0OvqSs7Pz1atXjY2NpR+VQDIzM1etWlVbW8vx6vjx42NiYtgywoC38vLypKSk5ORkoXdYZ2VoaDhz5swpU6Y4OjpOmzbNxMRELEEONa9evdqyZQu3zZuKi4vZ9ue2sbHR0tJC18Tj8R4eHj/88INEogQAABkGCSAAAFAE6CPGtbS0nj9/Hh8ff/z48dLSUrb6hw8f/vjjj6UY4FC0a9euAwcOSPQRqqqqs2bNghVeort8+fKqVas4ztWysrJKTk62s7OTflT86O/v//HHH7///nuOCSwEQUJDQ48fP65gx9tLU1dXl5eX1507d4RuwdzcfOHChW5ubl5eXhzzEYBP0dHRoaGhYmlqxIgRlZWVYmkKAADkCCSAAABAEdTU1IwYMYJt4w8lJSVuW4EkJSX5+vpKJbSh68SJE7t27RL6xGgemCu84OdJ8Xr69CmJRHr37h36kpaW1sWLF9mOY5MFFRUVy5cvv3//Pserurq6J0+eDAwMlHJUCiYqKmrVqlViaWogY7to0SKZTSnKMgqFMnHixNevX4ve1KlTpzZs2CB6OwAAIF8gAQQAAAoiICDg8uXLfFZ+8uTJpEmTJBoPYGppaSkuLk5LS7tx48aLFy+amppEaS0oKGj//v0WFhbiCg+wqq6uXrx48aNHj9CXiETi77///tFHH0k/Km4iIyO3b9/ObTnM3Llzo6OjYTGgiPLz852cnKhUqthbho26hJOSkuLj4yNiI46Ojnl5eXg8XiwhAQCAHIEEEAAAKILS0tKIiIiLFy/yWb++vt7IyEiiIYGXL18mJyeTyeTbt2+L62ghHA7322+/ff7552JpDaB1dXWtXLkyISGB49VNmzb9+eefRCKRn6Z6enpUVVUlsS6vo6Nj27Zt0dHRHK8SCIRvv/02IiKCQCCI/dFDyp07dxYsWMB7AyBdXV0PDw9TU9OXL1/evHlTiFQR86g+X19fPz+/ESNGiBDvUOHt7c1ts3M+3bp1a/bs2eKKBwAA5AgkgAAAQI7R6fTs7OyTJ09euXJlYIPnQRGJxL6+Pnj5KQl1dXW3bt0ik8nJycnV1dUSeoqPj09cXJyampqE2h/iGAzG3r172TbVGuDp6RkbG6ujo8O7kXv37nl4eCxbtuzvv/8Wb3iPHz8OCQkpKSnheNXCwuKff/6BH25Fd/Xq1cDAQB7fV6dOnRoWFhYYGDjQExsbG2/cuEEmk69du8ZtQ27erKysfH19SSTS7NmzVVRUhAxd0T1//tzBwYHbpleDWrRoUWJionhDAgAAeQEJIAAAkEt1dXWnT58+efKkEGcVm5qaSi43MQT19PTcvXuXTCaTyeT8/HzhPlgNDQ1dXV3t7e27u7tzcnIePnzI+8cbW1vb5OTk0aNHCxs1GMTZs2e3bNnCcfaHvb19UlLSyJEjud1bWVnp5ORUX1+voqJSU1Ojp6fHsVpVVVVycvK6deuUlJT4CYnBYBw5cuSLL77gNifFz8/v77//1tfX56c1wMPhw4d37NjBrS/PnDlz9+7dXl5e3G6n0+kFBQVkMjkpKenevXtCpCrU1dWdnZ19fX2XLl0KSz7RVqxYceHCBSFuxOPxT548gRPxAABDFwMAAIBcyc/PDw4OVlZWFvo7v52dHdZ/CUVQVlZ26NAhNzc3offvIBKJU6ZMCQ8Pv337No1GY228oqIiIiLCzMyMx+3q6uoxMTFY/fWHgjt37nBbKWloaHjr1i2Od7W1tdnb2w/UPH78OLf2mRmEsLAwfoKpr6/nsQu1qqrqoUOHhPx7AhZ0Oj08PJzb19nCwiIrK0ugBuvr6y9duhQaGsotDzgoKyurjz/+ODMzs6+vT0J/a7lTWlrK50pMNitXrsQ6dgAAwBLMAAIAADljamoq3OKCAU5OTtyODQK81dfX5+TkkMnk69evV1VVCdfIwBlenp6e2traPGrSaLSUlJQ9e/YUFBRwqxMaGnrixAlYDiYhZWVlJBKpqKgIfUlFReXUqVNsh1LTaDQSiZSamjpQMmvWrNu3b6NvLywstLe3ZzAYOBwuISFh0aJFPMLIysoKDQ2tqanheNXOzi4mJga2dRddX1/f6tWrY2NjOV7dsWPHwYMHhW6cRqM9efIkKSkpOTlZuKmCGhoarq6uJBLJx8dn+PDhQkeiGFatWhUVFSXQLXg8/tmzZ+PHj5dQSAAAIAcwTkABAAAQ0IEDB0Tc29Xd3R3rv4Q86e7uzszMDA8PnzJlitAb+hoYGAQGBp44caKyslKIGNLS0nikihwdHUtKSsT+FwdM7e3t3Kbe4HC48PBw1tlbH3/8MbpaYWEhutmNGzey/vd4//49x6f39/fv2bOHx45doaGhnZ2dkvrLDyVNTU2zZs3i+EUmEomXLl0S47Pq6urOnz8fGBg46GZS3IwbNy48PDwzM5NCoYgxMDlSVFQk6E52AQEBWEcNAAAYgwQQAADIHzKZbGxsLNyPDQiC+Pn5Yf03kANlZWUnTpwIDAzU1NQU7utMIBCYK7wyMzP7+/tFjKe9vd3T05Pbs7S1tWE5mOT09/fzOAA+MDCwq6uLwWCcPn2aYwXmbjKsqqur2VYOzps3j0qlslWrrKx0dnbm9lwdHR34RxeXsrIyW1tbjl9nPT29vLw8CT2XSqXevn1blPzyQHK5urpaQkHKrICAAP6/UDgcjjnxCgAAhjJIAAEAgFx6//69k5OTED8tIAiydOlSrMOXUczdOjZt2mRubi7c1xZBECsrq02bNl26dKm1tVXsEZ47d47H9k+hoaHd3d1ifyhgOnHiBLdtR5ycnC5evMjtqr6+fk9PD2tTn332Gbra999/z1onLi5OV1eX27/19OnTy8rKpPsFUFj379/nllIfNWpUcXGxdMKoqKhgJp15rwzlBo/Hc9tTTFHdu3eP/6+Pm5sb1vECAAD2YA8gAACQV729vRs3boyOjhb0xoCAgLi4OEmEJI+oVOr9+/eTk5NFOcNLU1Nz3rx5JBLJw8ODx+FQYlFQUBAQEFBeXs7xqqOjY2xsLJwOJiHp6elBQUFtbW3oS3g8nsdhT6dOndqwYQPz901NTSNHjuzs7GSrQyQSb9686eLi0tPT8+WXXx45coRjUzgcLiws7MCBA3yeHQZ4S0hIWLFiRXd3N/rSzJkzr127ZmhoKOWQWL8pPX78WIgWmKcK+vr6+vr6KvapcNOnT8/Ly+On5tWrV/38/CQdDwAAyDhIAAEAgHz75Zdfvv76a4G+mS9btozbLqdDR3l5OfPg9rS0tI6ODiFaIBAIDg4OzO2c586dK82fxtva2jZu3Mgti6erq5uWlib0BDHA24sXL0gkUmVlpUB32draFhYWMrcsCQ8P/+233zhWs7S0vHjx4qZNm168eMGxwrBhwyIjIz08PASMGnAWGRm5du1ajpm7oKCg8+fPq6ioSD8qVgPfqVJTU9FJw0ENfJvy9fV1cXERehczmXX+/Pk1a9YMWs3S0rK8vFzE7fMAAEABQAIIAMEUFxffvHkT6ygA+I8HDx5ERkZSqVQ+60+ZMmXTpk3M3xOJxICAAOFWHPAvMzOzoqJCoo/gR2dn5+vXr4uKil68eNHS0iJcI4aGhnb/UldXF2+EArl582ZcXBzHf3dzc/OIiAjphzREdHZ2/v3334WFhQLddf369YULF75//97Gxqanp4dbNQKBQKPROF4aN27c2rVrJd1bh46enp4vvviCQqGgL3l6ei5ZskSm0iX9/f2lpaVFRUVPnz4V7iBILS0tGxubiRMnTpw4EavvXdOmTZs8ebIYG+zt7bW0tGxoaOBdbcmSJV5eXmJ8LgBSg8fjlyxZYmBggHUgQFFgugANAPnDYz9OAOTU3r17Jdpr6urqZOrnKADEwsfHR6D6c+fOZTAY69atk1A8AMi+ESNGiP0jhuPRewAokrCwMLF3HDBkcd6tEADATVdXF4IgC6xcdVSFPLoVANlR3FTyou4l83+15DC3JVZXUvcaA+tWgCLIqbzd1N305Zdf0mi0tLQ0fu/KyTl79uz58+cFepa1vvUkkwmCxwiAbKHQKMmvU9ra2igUCo+d7IWwYsUK9IZZs0a4GGsYifEpAGDiTevbx9X5kh6ngSEFEkAACGPD1PU2BmOwjgIAUZ0viHpR91LST2Ee1KKrqvPN3K8k/SwApKCsuaKpu+nWrVsZGRkC3bhjxw5uy7u4mW4+9XOXnQLdAoAMau1tTX6d0traSiKRrl27JsbNlaZPn25ra/v69WvWwhUTQ6abTxPXIwDASuKrpMfV+VhHARQKHusAAAAAKLIbN26sX78e6ygAEL/vv/+ex7FfHHE8Powb2LAWKKSMjIzAwMD+/n4xthkSEiLG1gAAQIFBAggAAICk3Lx5k0Qi8djvFgD51dvbK9H2BZ0rBIC8SEpKCgkJEWMOKCgoSFxNAQCAYoMEEAAAAIlIS0vz8fGBhesAAADYXL582d/fv6+vTyytjR07dtSoUWJpCgAAFBskgAAAAIhffHz84sWLu7u7sQ4EAACALEpKSlq0aJG4Pibc3NzE0g4AACg2SAABAAAQs+PHjwcHB1MoFKwDAQAAILsyMjLc3NyamppEb8rd3V30RgAAQOFBAggAAIDY0On0L774YuvWrbB9CQAAgEHdu3fPxcWlsrJSxHbc3NxwOJw4IgIAAEUGCSAAAADi0d3dHRwcvH//fqwDAQAAIDdev37t7Ox8//59URrR09PT0tISV0gAAKCoIAEEAOBXH1WwA49lh/xGLkfKy8udnZ3j4uKwDkTmyO9/P/mNXDqCg4NnzZqlrq6OdSCKSX7/+8lv5BiqqamZN2/e2bNnRWlEV1dXXPHIKfn9vye/kQMgd4hYBwAAkGkMBClq6LhV2ZRd3uRkrvuZi/XApbbe/vCMouae/j2uNuONZe61G4/IgdilpKSsXLmypaUF60BkBXScoeCjjz5ycXGhUqmPHz++ceNGdnb23bt3YeNzUUDHGcr6+vrWrVtXUFBw8OBBIlGYn1DU1NTEHpXsg14DABAIJIAAAFxVtHT/nlueX9PW009DEMTJ/D/v1jLLGvOqWhEEufi8+vsFttiEyAXvyMWluKkr5NJj5u9NNFV1VIkIgniPMQ51MOdYv6q992zBOx0VpbAZI9FXNyU+7aTQ6AxGZUtPP52OIIi1vsaloCmSiFyMKBTKd9999+uvv9Lp8PruA+g4vPHZceo6+04/fvPgfWtDF8VcW9XGUGOZvdkkEx221jDvOEQi0cnJycnJ6csvv+zr68vOzk5MTLx27VpNTY2ILePx+CHVraDj8MZnx2nt7T+T//ZZbXtZc7euqpKVvnroJPOpw9lDwrzjcHP06NG8vLwLFy4Icay7ioqKJEKSZdBreBN0nMbUSaEGX3qsrkRk6xEy22sAEAgkgAAAXI3SUz/iY//gfcu2pOfoq5NNtVWI+H4aY4aFnogPotEZBLw4927kHbnYbZ0+YsOUETwqvG/vOfP4XXJxHY3OWD5xOMc6JxdPYv6mvY8aFPuovksOjtAqLCwMDQ3Nz8/HOhDZAh2HTzw6Tnppw8+3Sjr6qMw/lrd0l7d0p5c0+I83C59tjWfZ6lWmOo6Kioq3t7erq2teXp6gCSAcDmdtbe3g4DBx4sQJEyaMHTs2JSXls88+k1CoMgg6Dp94dBxyWeOPOcXtfVRVIqGXSuvup1V39N5507x+iuW26SNZa8pUx2Fz//59BweHY8eOrVixQqAbVVVVJRSSzIJew6dBx2msfswprenos9Zn/zFZlnsNAPyDBBAAYBDm2pznVFvra6SvmtHdTxumKdI7NwaC7M5+9aObnSiNcMQtcrGbYsb1zVVNR1/M8/f1nZSntW00OoOf1rRViNPN9ZJf14kvQPFjMBinTp3auXNnV1cX1rHIKOg4g+LWcchljV9nFk021ZlhoaelQqxs6b79pqmmo4+BIPEvq021lNdMtkTfJSMd59WrV66urrW1tQLdRSQSIyMjQ0JCWAvT09PFGpp8gI4zKG4d5+H71p9ulayfYuljY6ynptzRR80sazx8r7yTQj3z+O1MC73JpuwT6BCZ6Ths2tvbV65cmZ6efuTIEf539hmCM4CYoNcMisc4jU3Sq9qM0nredWSz1wDAJ9gEGgAwCDz3c1W1VIgijioQBDlf8O7+u1YRG+GIR+TifhDXSypE/MczrH7xsPtyjg3/DaoSZfqb85MnT+bMmbN582bI/vAAHYePB3EobO7p/zGn+DMX69N+kzZMsQyyNwufPTo+eOrScSbMCn89fFPX2cexQcw7zvnz5ydOnCho9gdBECqVumLFiiNHjkgiKvkCHYePB3EopNDov+eW/UWasHKSuZ6aMoIgWirEpeNMdrvaIAjCQJC7b5u5NYh5x+EmKirKzs4uOjqaweDr9YmysrKkQ5JN0Gv4eBBf1d629Ry+XznGQGPQmjLbawAYFPzfBQBg6cH7lj8fVGAdhQTpqykR8TgEQUw0FWFg2tzcvH379qlTp965cwfrWIY0Be44Vwqr54w0YFspqUokfDl7jJ2RJoIgVDrjWV07RtFx1d7eHhwcvGbNmv7+fm51jI2Nt23btnnzZo4LVRgMxieffLJ582YeLQARKXDHySpvXDfF0tZQk618vpWhuhIBQZDaDs5pUxlXW1sbGho6Z86coqIirGMZohS417Ch0hnfZL7aMs1yhO5Q3E0cDB2QAAIAYOZJTfvnaYX8rYuSezhpveaSkI6OjvDwcAsLi2PHjtFoNKzDGdIUu+PcftO8dTqHnRoIeJyf3YdJQCVNsjX1LC8vz8HBITY2luNVHA43a9ashISE9+/f//nnn8ePH29ubvbx8eFY+eTJk76+vq2tEnnZPsQpdsdZYGXobm2ELsf9O1XBzkjmDoHi3507d8aPHz979uw7d+7wORsIiIVi9xo2xx5WGmooB4w3wzoQACQL9gACQOY0dFGuF9dde1V3bqmDKhEf9eR9akl9VXuvjipx1giDj2eM0lb5T89t76OmFNddLar5w2einprS0fsV117VmmmrfjvXhvnCHEGQsuauqKdVrxs63rf3WuurTzTRXu9oqaOqhH56dUdv9JP3d942d1JoxhrKC6yMPEZzGFMyNff0Z5TWN3ZTPnLicFpHF4UW/fR9QU1baXM3EY9Y6qgtGmviNcaYOSMms6zhG/Ir5rY4rb39U/66xbzrSsjUEbrqA41IKHI2NyuaDt0re9fWy/zjSF31uaMMPnIaxZwz3EmhHrpXcf11HYVGH2+sddB7vKG6IkznGfD27VuO5XQ6vaCgICkpKSYmpqSkRMaH3dBxFKPj7HS2MtHkvJOrtf6Hafn6ahz+IphgMBhHjhzZtWsXt2k79vb2ly9ftrH5zwpQNTW15OTkkydPbtu2DZ1OzcjIcHJySk5OllTQ/wUdRzE6jjKB8zvd9+09zT39I3TVlowz5TM82cRgMO7cuTN79mx1dXUPD4/ly5d7eHjo6HDY1UgKoNcoRq9h9eB9S2pxXcwyONILKD5IAAEgQzJK6y+9qHla205nMBAEaejq+yrzVVlzlxIe30+nN3RRrhbWPKpqObzQnvnRe/tN09XCmty3rczTKOkMxleZRdnljQiCtDd0xr+sjphnw0CQvx5WkssaN0yxCLI3q+3sPZ5X+c/TKnJZ435Pu/HG2qwBkMsa9954ZT9Me7/nuDEGGs09/X89rEQf0NBLpd2oaEoprr//rpnOQJwt9dF/l+zyxt/ulM600NvhbDXGQLOytfuj5Od7sl9fe1V3eOF4NSXCAiujuRsMtlx79rS2XUdVKW2VE/NGpX9HsZKInJt5owwmm2ovi33c2E1BEOSL2dZO5v9/ZIamMvHbuWPaevtf1necXDxRlUjgs1l5UVBQwPrH2tra27dvJyUlJSYmtrfL3FobNOg4iAJ1HPRB7wMGDgWzMWBf54KJlpaWhQsXpqWlcbxKIBD27t37zTffcLt906ZN9vb23t7e6F5WXFw8c+ZMtj2hxQ46DqJAHYeb/XfKbAw0fl84Xl1JQWb9d3d3JyQkJCQkEAiEGTNmkEgkNze3KVOk9HM79BpEEXtNa2//d9mv97ja6nLKWwGgYBTkwwAAxTDZVHfXLGtTrQ/b9X2RXuQ1xjhr7cw7G11OLZ7EfPv9rq33q8xXzJkYwzRVl9kP11P7kMk9V/BunJHWPwGOk0y0EQQZra+JIMixBxWxz6tP+01aaDPMzkjTdZThX6RJqkRCXWffrvQiCo0+8PTH1a1fk4vGGGgdXmhva6iJx+EM1ZUj5tnYD2P/Wauusw+PwxlrKHObFZxW0vBFeuGisSZ7XG1tDTXxOMRKT33xWBPmU/55VoUgCB6HKBM+bP+HQxBlAp75a2ChlCQi50FHVSl4wodtR17Wd7JdpTOQgpr24AnDFS/7gyBISUlJaWkpmUz+8ssvp06dampqumzZsqioKLnI/iDQcYZMxylv6UYQxFJHbbIZNq/92axevZpb9mf06NEFBQU8sj9Mzs7OBQUFbPODmJqamo4fPy6GKLmDjqPYHaeLQvuG/Cq/ujV89hhus+rkGo1Gu3v3LvNja9SoUZs3b66vH+TwJtFBr1HIXrP3RrHHaOMZFnqDVwVA/kECCAAZYqShbGuo6WDy4Z3JhqmW6xwtdFWViHico5nO8UUGQxlmAAAgAElEQVQTmWO4142dWWWNCILYGGjMsNBzsvjwYgePw611tBhrpHnazyFt1YyQiWaVrd3nCt4H2puyrpjQV1Oab2WIIEhdZ19i0YfTahgI8r+75TQ6Y+NUS7aZ5Ojl0CN01T1HG4XPHs3xb9HYTfn+ZrGhhvKGKf85qtnbxpg5bKjlcoIPKwlFzpv/eFPmuCGhqIb+3+VOeVWtbb39XmOMBWpQXtDp9LFjx7q7u//666+PHz/GOhyBQccZoNgdJ62kHkGQDVNHyMh+Ws3NnI9VCg0Nffr06YQJE/hpxMrK6tGjRxy3BKJSqSLFNxjoOAMUrOO09vb/87QqMPZRWkl9dz99fcKTb8hF3f30we+UW5WVlSdPnnz+nN/pJEKDXjNAYXrNpRfVdZ19H80YKeiNAMgpSAABIHMG5tbO/O+7CH01peAJHz4pU4r//5hhtX+Polxi92GFPx6HGGkoIwgS/bSKzmA4murQGQjrr/HGH1653H3b8m+D9a8bOw3VldEvQIZrc35zyHwRhC6PfPKul0pbaDOM7aqljtp+z/Hrp1hunsphh1c2Eo2cG20VImnsMARBqtp7cyqbWC+ll9RPG65rrKFQW/+wUoB9naHjSDpybqTTcQpq2kqaumaN0Pexkd08rIGBQWJiYmRkpLq6+uC1/6WlpZWQkLBt2zbJBcYDdBxJR86NhDpOdz/tbP67ytaukbrqakofpkKklTTsvfFaiNYAR9BrJB05N2LvNWXNXX89rPzRbawSHn4oBkMF7AEEgOxCv+X2tTU+fK+cgSBv/90Gj7Watip7j85924wgSNj1F9weUdb84TCdhKIaBEEsdNTQD8VxCISXmxVNCIJwPERz7kj9uSM5LERHwyRyBEGWTxx++WUNncG48KzKdZQhs5BKZ9yoaPzMxVrQ1hSMqqrqiBEjTE1Nzc3NWX++bW1tbWhoaGpqam5urqurw/wQa+g4itdxaHTGb7dLzbXV9rjait6ahMydOzc6Otrc3FyIe4lE4p9//jl27NgdO3ZglY2FjqMYHUddibDD2Yr5+7be/hN5b2JfVCMIQi5reFRlOnW4rnDNSoiysrKFhYWlpaWlpaWRkZGurq6urq6Ojo6uri6dTu/r60MQhMFglJeX5+XlPXz4sKqqSqaOI4BeI9e9hkKjf5X5arvTqFF6AqTsAZB3kAACQJ7oqSnrqSk19/S/b+tlcBp5sGrt7a/r7EMQ5HrodN7r/+kM5EVdB4IgwzRFfVHf1ttf1d6LIIiRCOdkYRI5k6WO2pyR+jcrmvKr2141dI410kQQ5P67ln46Y74Vv2dVKBJlZeVp06aRSCRPT89JkyYNepg9lUp99+5deXl5WVlZSUnJkydPnj17JoV9GXiDjsNG7jrOuYJ3jd2Us0sdZOf8L1ZEInH37t1ff/01gSDSVkdhYWGjR48ODg6Wke23oOOwkbuOo6Oq9MXs0WpKxHMFbxEEyX3XgnkCiEgkrl69ety4cfb29nZ2dubm5oN+rLBqbGzMyMhISkpKS0trbW2VXJxCg17DRpZ7ze+55ebaKgHj5fuAPAAEBbPdAJAzwzQ/bD046IipuefDRIym7kFmZLT29jP36uujivpirenfh9Z3UYRuBJPIB6yY+OEFfszzKuZvMkrrXUcZKswRKvywt7ffsWNHampqS0vLnTt3wsPDHRwc+BmmE4nEUaNGLViwYNOmTfv378/MzKyrq3vw4IEUYuYNOg4r+eo4tyqbLjyrOuozwVybw/tqzFlaWt64cSMiIkLE7A+Tt7f33bt3R44cKXpTYgEdh5V8dZwBm6dZMo/ELm3qElebQtPV1T19+vTOnTs9PDwsLCwEyv4gCGJoaLh8+fKYmJjGxsZ79+5FRERMnToVL2OLd6DXsJLZXnP7TVNmWePns0b39NPYflHpDARB6AzGQIkMzToDQGSy9R0TADAo5u53Rnwsclb9d83568ZBxnw45MNHW21nL++ag9L4d8eBd209QjeCSeQDHM107Iw0EQRJL2lo6qZQaPSblU2yvO2IuBgaGoaEhJw9e7aqqur58+cHDx708vISaCsTboyNsf/qQcdhJUcdp7Ch4+dbJX/4TmC+5pU1S5cuffLkyaxZs8TYpr29/YMHD5ydncXYptCg47CSo47DSpmAZ078UaQfYplnwO/bty8vL6+6uvrcuXNBQUE6OjJxPiD0GlYy22uyyptaeiik6IezTt9l+8VcIlfR0j1Q0tKD8dp2AMQIEkAAyBnmnNuJ/55AwYOJpgpzTztyWQO3Oh191NeNnXpqyloqRARBqtp7adyODOXPME0V5huYGxWN3Fpq7umn81zDj0nkrFZOskAQpJ9Oj3tZnfu2RY1ImG6uyIeDjhkz5s6dO3V1dRcuXFizZo2ZmWCncsgF6DgSipyV2DtOWXPXVxmvDniNt5PJ7M+vv/56+fJlPT3xf3MwNja+ceNGcHCw2FsWFHQcCUXOSgqfOMxjyC0E3HBXXgwbNmz16tUXL15sampKTEyURJcUCPQaCUXOaqiN0wAQI0gAASBPevppdV19CIIsGjts0Mp4HI55vEJeVStzATbaDznFRDwOQRBLHXUEQdr7qNkVjSIGOUpPE0GQN609ya/r0Fe7++l7sl/T/juwYPsjVpEPcLc2ZK5pj39Zm/S61muMMV5Gzp2WjCVLlri4uMjaLHoxgo4j0cgHiLfjvGnt3pVe+JO77XhjLfTVipbunn6Mj65zcXGRXOPKysozZsyQXPv8gI4j0cgHSOETp7KlB0GQBdYKvpMdgUBYtGiRo6MjhjFAr5Fo5ANE7zXfudo83jqH4y/SWBMEQaz1NQZKZHP7OQCEo7DDfQAUAPpFSfLrOhqdMdNCz4m/Fx1+diYIgtAZjK/JRcw9/wbQGchPOSVqSkRrfQ2EZaRyvuAdc7X2gA4KlfkbtvL/j/O/w4IVk4Yzf7P/TsmN/37Yd1KoO1Jf+NoOGzhuU0OJiCBIF4XG9l5IopH30+mxL6rjX9ZQubyMIuBxayabIwjS0kO5WdHkazv4MA7IDug4CtBxqtp7P0sr3Dd/7HhjDm/R23r7f88tV1USw547YAB0HAXoOBzVd1Ge1rY5W+pPMZOJFVKKBHqNovYaABQYJIAAkF03yv/zqdzUTYl88l6ZgP9kphVrOeXfT8eufz9HBwRNMGNuRljV3rsyPv+vh5X33rU8rm6Le1EdfOnxs7r2nf8eFrt0nCnzFMyihs5PUl60931oqrGb8sutUubv779rfVnfMbBrIIVGZ35g91D/8x7ec7TRhGFaCIJ099N3pRV+lvYy6sn7zLKGk4/eBFx8NExD2XP0/7+ENNFUQRCEzmDcfduMIEgnhco8rESikf/5oPK326U/3yr540EFty/+YjsT5q6Zow3UxxhocKvGv4F/HfHNgAacQceRUORS6zi1nb2brz0da6hZ2NBx6UU166/YF9Un8t6EXi6Ybq6r0NPyMAAdR0KRS6fjFNS0bUx8+lNOyfv2/2zsQqHRf8wpHq6t9sMCWyGaBbxBr5FQ5JiM0wAYIuAYeABk10+3SspauvzGmhlpKBXUtB+5X95JoR5aaM/6OcdAkNcNnczfP65uY37EDlAm4H/3Hv9FetH79p72Purpx28HLo031jq00F5b5cM3ATwOOeA17ov0orLmrofvWxeczR1nrKVGJLxu7Fw/xfJpbRuCIFXtPf+7W7584nA3a0MEQQrrPzy3oqWnn05XYllAdMBr/FeZRfnVbQwEuVnRxNxOD0GQhTbDdrvasEboOcb4cmENgiDfkIscTHXftHb/4DZW0pFXtHQz7y1r7ub2xVcm4JeOMz356I2vjQnvfyY+PapqY/6mvAX7c1gUG3Qcue44DV2ULdee1XT01XTUp5bUc3sKCd73iht0HLnuOPffteRXt+VXtyW8qvWxMfYaY6yjovS6qTPuRfUUM91fPeyYOxMD8YJeI9e9BoChCRJAAMiuY6SJ8S9rPk553tLTb6qlMmekQegkcwP1/z9X4mz+u9SS+rLmDwmFA3fK8qtbJ5nqBNn//ya+toaaFwIdzxa8fVbbXtzUpa5EGKWnTrI18RxjxPb+fKSueqS/w/mC9wU1ba8aO9+29kwYpn3EZ4KRhlLS61rvMcaeo4eZaqkgCPK4ujWzrDGj9MPOf229/Svj82eY62+ZNkJNiYAgiKG68olFk6KevEstqX/X1qujSrQx0AyZONzJXJft7zjFTGeHs1XMs+r2vn4cghzwGm/z77BJEpEzrXO0LGnqMlRX3jR1BI+vv6WuGh6H8xoj0mksdZ198S+ry1u6b1V+GF09fN+6NemZvbGWg6mOi6W+KI0DjqDjyG/HodEZW5OevWsb5LAYN2sjHVXYkUHMoOPIb8dBEGStowWFRr9Z0VTX1ZdR2vioqs3GUGPacN0/fSdAZ5Ec6DVy3WsAGJogAQSA7LIx0PjVw45HhbWOFmsdLQZtR0OZ8JHTKH6eqEokbJ7G4bM2dtlU1j9OMdOdYqb75ezRPJrC45DVky1WTx48vJWTzFdOMud4SeyRM00y0U4JdRq0zUdVrdPNdfk5yZWHYZoq2/n7KwBxgY4jvx2HgMfFB3N4NJAC6Djy23GYIX0y04pt5RGQNOg1ct1ruPnO1ea7/06DAkCRwB5AAADAQXc/LbOsYYmdKdaBACBPoOMAIAToOAAICnoNAMKBBBAAAHBw7VWthhJh3igDfir3UcW8sTOdATtFA7kEHQcAIUDHAUBQ0GsAEA4kgAAAAEEQhEpnFDZ09FHpCIK8bev56+GbVQ6WRDxfBw3lVDaJcSBAozOe13WIrz0AJAg6DgBCgI4DgKCg1wAgFrAHEAAyp4vy4bTO7n66jiq2sQwhmxKfPq1tJ+JxY400y5q7LXXUltnzO6/44vMqclmDsYYKgiCeY4y4LZXnbWvSs84+GgNhvGvr7USdFAsGBR0HE9Bx5B10HExAx5Fr0GswAb0GALGABBAAMoSBIC/rOu6/b2H+8XF1qy8cdSwVDAQpaepCEIRKZ7yo69BUJu6eZ0MY7LWSjYHG461zxBXDX6SJ4mpqqIGOgxXoOHINOg5WoOPIL+g1WIFeA4C4QAIIABmy9koB86xQdSU8giC/3SnNLGuw0lOHcz0kDYcg3y8Ye+heWUsPdcIwrc9nWY/UVcc6KMAv6DhYgY4j16DjYAU6jvyCXoMV6DUAiAskgACQIeeWTsY6hKFr3igDPrcSBLIGOg6GoOPIL+g4GIKOI6eg12AIeg0AYgGbQAMAAAAAAAAAAAAoOEgAAQAAAAAAAAAAACg4SAABAAAAAAAAAAAAKDhIAAEAAAAAAAAAAAAoOEgAAQAAAAAAAAAAACg4SAABAAAAAAAAAAAAKDg4Bh4AYTx49/Bt61usowBAVKXNZVJ7Vg+1l1yWJbXHASA5rb2tUnvW29Z30HGAAujq75bm4/JrCtr72qX5RAAkobC+COsQgKKBBBAAgiEQCAiCHLp3BOtAABAb5v9qySESiQiCtPS0hGd8LdEHASBNzP/Ykm7/7tvcu29zJfogAKRG0h83A4849ehvST8IAKmRQscBQwckgAAQTERExIULF7COQjEVFBSUlpaiy11cXMzMzKQfzxChrKy8evVqiT5i+PDh33zzTXFxsUSfMjRRKJSbN2+2tbWxlSspKZFIJBgySo6pqenkyZMl+oglS5Y8evSoq6tLok8ZmhobG2/dukWj0djKTUxMZs+ejUlIQ4SXl5ekH7Fr1y5dXV0GgyHpBw1BL1++LCwsRJdPmTLFyspK+vEMEQQCYcuWLVhHARQHDr4/AgBkQXh4+G+//cbxkpGRUX5+vrm5uZRDAkDGtbe3u7m55eXlcbzq7e19/fp1HA4n5agAkHF5eXlubm7t7ZzXBx07dmzr1q1SDgkA2ffbb7+Fh4dzvKSlpfXw4cOxY8dKOSQAgBBgE2gAAPb27dvHLfuDIEhDQ8Pvv/8uzXgAkH09PT2LFi3ilv1BECQ1NfX27dvSDAkA2ff8+XNvb29u2R8EQfbs2UOhUKQZEgCy79ixY9yyPwiCdHR0/Pzzz9KMBwAgNEgAAQAwdvTo0T179vCuc+HCBfRcfQCGLAqFEhAQkJOTw7taVFSUdOIBQC6UlpZ6eHg0NTXxqNPQ0JCeni61kACQfVFRUWFhYbzrXLlyBdarAiAXIAEEAMDSuXPnPvnkE3Q527qV2trarCw4BwcABEEQGo22YsWKlJSUQWvGx8f39vZKISQAZN+7d+/mz59fW1vLVo5eJhkdHS2toACQdVevXl27di2dTmcrZ+s4nZ2diYmJUowLACAkSAABADATHx+/fv169E5ko0ePdnFxYSv8559/pBUXALKLTqcvX748Pj4efSkoKEhFRYW1pLW1lZ88EQAKr66ubs6cOe/evWMrJxAI27dvZyu8du0aemN1AIagjIyMZcuWoadgDx8+3MfHh60QzkgBQC5AAggAgI34+Phly5ah3ylZWFhkZmauW7eOrfzy5cswuxgMcQwGY+XKlZcuXUJfWrJkSXR0NPqEHcicAtDY2Dht2rTKykq2chwO99dff/3666+ampqs5b29vQkJCdKLDwCZRCaTfXx8qFQqW7mRkVFmZuamTZvYytPT0+vq6qQVHQBASJAAAgBg4MqVK0FBQei5P8bGxpmZmSNHjvT391dTU2O91NXVlZSUJMUYAZA5K1eujImJQZd7eHjExMQQicQVK1awXUpOTm5ubpZKdADIora2NkdHR/TcHwRBDhw4sHHjRnV1dT8/P7ZLkDkFQ9yNGze8vb3R2R9tbe20tDQ7OzsvLy9DQ0PWS1QqNS4uTooxAgCEAQkgAIC07du3LyAgAD33R1dXNzs729bWFkEQbW1tX19ftgowIgdDVldXl4uLC8cJ9vPmzUtISGAu/iKRSLq6uqxXKRTKlStXpBQlADLm2bNno0aN4pj9+fnnn3fu3Mn8PTpzmpWVVVVVJfH4AJBJR48edXNzQ2d/VFVVU1JSHB0dEQRRUlIKDAxkqwDjNABkHySAAADSU1hY6OTktGfPHvTcHzU1NTKZPH78+IES9Ig8LS2tvr5e4lECIGPi4+PNzc1zc3PRlxwcHK5duzYwXU5VVXXJkiVsdWBEDoag7u7ur7/+evLkyS0tLeir33zzzZdffjnwR3d3dxMTE9YKdDo9NjZW4lECIGMqKioWLFjw8ccfo9/SKSkppaamsm7RiB6n3b9/v7i4WOJRAgBEAAkgAIA0dHZ2fvHFF5MmTXr48CH6KpFITE9PnzJlCmuht7e3gYEBawmVSuW49y0Aiqq4uNjT0zMwMLC1tRV91dLSMisrS0tLi7UQPSLPyclB734CgAJLTEwcN27czz//jP4hFkGQtWvX/vDDD6wlBAIhKCiIrRpkTsGQ0tvbu2/fvnHjxmVnZ6Ov4vH4q1evzps3j7XQ2dnZysqKrebFixclFyQAQHSQAAIASBaFQjl+/PjYsWP379+Pnk6MIAgOh7t06dLs2bPZypWVlQMCAtgKYUQOhoja2todO3ZMnDgxIyODYwVdXd2HDx/q6+uzlbu6upqbm7OWMBgMmMsAhogHDx54enr6+fm9efOGYwV3d/e///4bXY7OnObn5798+VL8IQIgY2g0WmRk5Pjx4/fs2dPb28uxzsmTJ9HHfuFwuJCQELbCqKgoiUQJABATSAABACSlv7//1KlTNjY2W7du5bGZwk8//YRetMKEHpHn5uaWlJSIM0oAZEx9ff1nn31mbW196NChvr4+jnWIROKjR4+GDRuGvoTH44ODg9kKIyMjxR8oALLk0aNHvr6+M2bM4JYzRRBkxIgRqampOBwOfWnatGnMHehYwVwGoNhoNFp0dPS4ceNWr15dXl7Ordr27dvXr1/P8dLKlSvZSkpLS/Py8sQZJQBArCABBAAQv66urmPHjtna2m7atInba1imyZMns27EwGbWrFmjRo1iK4S5DEBRVVZWfvbZZ1ZWVgcPHuzu7uZRc9++fdbW1tyuojOnhYWFz58/F0+UAMiYmzdvkkik6dOnX79+nUc1PB6fnZ1NIBC4VVi+fDlbSVRUFHrHOgAUQG9v75kzZ+zt7UNDQ3nv2mNlZXX06FFuV8eOHcvcE5oVTNYGQJZBAggAIE6VlZW7du0yNzffvn17RUUF78o4HO78+fO8K6BnF8NcBqB4cnJy/P39R48effDgwa6uLt6Vraysdu3axaOCg4ODvb09WyGMyIGCYf4EO3nyZFdX1+Tk5EEzNWFhYej9SlitWLGCbXLQmzdvOG6+DoD8qq6u/vbbby0tLdevX//q1atB6589e5bjpLkB6FcOMTExHJf8AwBkASSAAABi0NfXFx8f7+vrO3r06AMHDnDcsBZt1apVEyZM4F0HPbu4pKTk8ePHQgYKgCypr68/ePDghAkT5s2bd+XKFRqNxs9d+/fvJxKJvOug5zJER0dz3BAXALnz9OnTTz/91MLCYv369U+ePOHnFh0dnYiICN51rK2tnZyc2AohcwoUA5VKTUpKWrp06ciRI3/88ceGhgZ+7vL19Z0zZw7vOiEhIWwT6+rr67OysoSPFQAgSTiY2goAEBqdTr9z505cXFxMTExTU5NA96qqqr569WrEiBGD1pw8eTLbEH/Hjh0HDx4ULFYAZEZnZ2dycvLFixdTUlL6+/sFunfGjBm5ubm838ciCPL27duRI0eyfcTfuHGD7QwXAOTI27dv4+Pj//nnn/z8fEHv/emnn7766qtBq/3xxx9hYWGsJfr6+jU1NcrKyoI+EQBZwGAwHj58eOnSpQsXLtTW1gp0L4FAKCgoGPRFHYIg7u7uZDKZtSQ0NBTmawMgmyABBAAQWF9fX05OTlJS0uXLl2tqaoRrJCws7MiRI/zUPHDgANuCF2Nj46qqqkEnQQAgUxobG1NTUxMSElJTU3t6eoRrhEwmL1iwgJ+ac+bMuX37NmvJhg0bTp06JdxzAcBKUVFRcnLylStXHjx4INyo1cjIqLKyUl1dfdCaDQ0Nw4cPZ0vLXrt2jUQiCfFcALBCpVLv3LmTlJQUHx//9u1b4RpZvnw5nzPgzp07t3btWtYSDQ2N2tpaTU1N4R4NAJAcSAABAARQWFj47bffZmZmdnZ2itIOgUAoLi7mvR3DgOrqaktLS7bVMenp6R4eHqLEAIDUxMbGHj58+OHDh3wu8uLGwcGhoKCAz8onTpzYsmULa4mOjk5NTY2ampooMQAgHVQq9dtvv42Li+NxOBGfdu/evXfvXj4r+/j4pKSksJYEBQXBcWBAXlRUVHz11VdpaWltbW0iNvXo0aMpU6bwU7Ojo8PExITt7IILFy6gt3EEAGAO9gACAAggMjLy6tWrImZ/EARZvHgxn9kfBEHMzMzQ61ZgXwYgR7777rt79+6JmP1BEGTHjh38V162bJmKigprSVtbW2pqqogxACAd5eXlv/76q+jZHxUVlW3btvFfH72jbWJioug/SwMgHfHx8bGxsaL/j507dy6f2R8EQbS0tNCz5GCcBoBsggQQAEAAu3btQp/3KYSdO3cKVB89Ir98+fKghyUBICNOnjyppaUlYiOmpqbBwcH819fT0/Py8mIrhBE5kBc2Njb8T9vhYfny5cOGDeO/vp+fH9u6ld7e3oSEBNEjAUAKtm7dOui2zfwQ6H0Dwmmclp6eXldXJ3okAADxggQQAEAABgYGWVlZzs7OojQyffp0FxcXgW7x9/dnW7fS1dWVlJQkShgASM3s2bPJZLK+vr4ojWzfvl3QnWjRI/Lk5OTm5mZRwgBAanbv3n3gwIFBtzznTdCfY9XV1f38/NgKIXMK5IWmpmZqaqqnp6cojYwePVrQfa+8vLwMDQ1ZS6hUalxcnChhAAAkARJAAADB6OrqZmZmuru7C93Cxo0bBb1FW1vb19eXrRBG5ECOTJ8+/fbt22ZmZsLdTiQS161bJ+hdJBJJV1eXtYRCoVy5ckW4GACQvs8+++z48eN4vJDj1ZkzZ/JzhhEbdOY0KyurqqpKuBgAkDJ1dfVr1675+/sL3cL69esF7XRKSkqBgYFshTBOA0AGQQIIACAwdXX1pKSkJUuWCHGvmppaQECAEDeiR+RpaWn19fVCNAUAJsaNG5ednW1hYSHEvZ6enqampoLepaqqiu6nMCIH8mXTpk3R0dHCHfu4Zs0aIe5yd3c3MTFhLaHT6bGxsUI0BQAmlJWVY2Njhfv/j8fj0SMufqDvun//fnFxsRBNAQAkBxJAAABhqKioXLp0KTQ0VNAb/f392aYk8Mnb29vAwIC1hEqlxsfHC9EUAFixtbW9ffv26NGjBb1RuHE8wmlEnpOTU1lZKVxrAGAiJCTkypUrqqqqAt2lpqa2bNkyIR5HIBCCgoLYCiFzCuQLgUA4c+ZMWFiYoDd6enoK96LC2dkZfb4HnKAHgKyBBBAAQEhEIvHs2bOC/ly6evVq4R6nrKyMnjoEI3Igd0aMGJGTk2NnZ8f/Lfr6+oJuxzDA1dXV3NyctYTBYMBcBiB3SCSSoDkgPz8/4d43IJwyp/n5+S9fvhSuNQAwgcPhDh8+LOg2WEKP03A4HPrc96ioKOFaAwBICCSAAADCIxAICxcu5H+HTkNDQ/SB7vxDj8hzc3NLSkqEbhAATJiYmNjb2/Nff/HixWwHuvMPj8ejzw6LjIwUrjUAMOTo6GhsbMx/ffQsHv5NmzbN1taWrRDmMgC5g8PhvLy8+F9Bqa6ujt5ykX8rV65kKyktLc3LyxO6QQCA2EECCAAgvMTExOXLlzMYDD7rL1myRLh9HJhmzZo1atQotkKYywDkC4PB2LZtm0Bno4iylyfCKXNaWFj4/PlzUdoEQMoaGxsXLFjw9u1bPutramp6eHiI8sTly5ezlURFRfH/eQeALLhx48bixYupVCqf9b28vDQ0NIR+3ObQvB8AACAASURBVNixYx0dHdkKYbI2ADIFEkAAACGRyeTg4GD+RxUIgixdulSUJ3KcXQxzGYB8CQ8PP3HiBP/1tbW13dzcRHmig4MDesIRjMiBHGlra/P29hZoBZa3t7eampooD12xYgXb/NY3b97k5uaK0iYA0vTgwYPFixf39vbyf4uI4zSE0yuHmJgYgcaKAACJggQQAEAYubm5fn5+Ao0qtLS05s+fL+Jz0bOLS0pKHj9+LGKzAEhHRETE/v37BbrFy8tL6PVfA9BzGaKjo+l0uojNAiAF3d3dJBLp0aNHAt3l5+cn4nOtra2dnJzYCiFzCuTFs2fPFi5c2NHRwf8tRCLRx8dHxOeGhIQQCATWkvr6+qysLBGbBQCICySAAAACe/LkiY+PT1dXF1u5jo7Ovn37uC3yWrBggbKysoiPtrOzc3BwYCuEETmQC4cOHfrhhx/Q5U5OTujD2gd4eXmJ/mj0XIaqqqpbt26J3jIAEkWhUPz9/W/fvo2+FBYWxu1APTweL+K8OSb0XIbY2FgKhSJ6ywBIVHFxsYeHR3NzM1u5mprajz/+yO2lwowZM4TeN32Aqampq6srWyGM0wCQHZAAAgAI5vnz525ubq2trWzl6urqSUlJERERUVFRSkpK6Bs9PT3FEgB6RP7PP//A7GIg444dO8bxKJZJkyalpKTExcWtW7cOfRWHw4ml41haWs6aNYutEEbkQMb19/f7+/unpaWhL4WFhR05cuT27dsc91OfOnWqQNtFcxMUFMT2cdbc3Jyeni56ywBITllZmaura11dHVu5srJyXFzc119/ffXqVY4LJCU3Trty5UpnZ6dYGgcAiAgSQAAAAZSUlHh6ejY1NbGVKysrX7lyZfbs2QiCBAcHX7p0Cf1+ScT9OAcsX74cPbs4OztbLI0DIAmRkZFhYWHochsbm/T0dH19fQKBcOrUqa1bt7JVsLe3NzMzE0sM6BF5XFxcT0+PWBoHQOxoNNqqVauSk5PRl9asWXP48GEEQUxMTLKystDTQsX1cWNkZOTu7s5WCJlTIMuqqqrc3d2rq6vZygkEQlRUFHOFl7e39/Xr1zU1NdnqiCsB5O/vr66uzlrS1dWVlJQklsYBACKCBBAAgF/v3r1zd3evqalhK1dSUoqPj2cdN/j5+V27do3149/S0tLKykosYZiZmaHPkocROZBZV65cWb9+PXrDHWtr6xs3bgwbNoz5Rzwe/+eff+7atYu1Dvq/utCWLVvGlpZta2tLTU0VV/sAiBGDwdi6dSvHY9cDAgJOnz49sKTR2Ng4OzubbbOeuXPniisSdOY0MTGxra1NXO0DIEYNDQ3u7u4VFRVs5Tgc7uTJk8uWLRsocXV1zcjIYF3wpa2tPXnyZLGEoaWlRSKR2AphnAaAjIAEEACAL3V1de7u7m/evGErJxAIkZGR6E96Dw+PtLQ0bW1t5h/nzJkjxmDQI/LLly+j9yQCAHMZGRnLly9HL1E0NzfPzMxkm92Dw+F+++23vXv3DpQwZ9WJhZ6eHno7IRiRA9n0+eefnzp1Cl2+aNGiCxcusE0C1dPTy8zMHMiWKikpzZw5U1yR+Pn5sU2U6O3tTUhIEFf7AIhLa2url5dXUVERWzkOhzt27Bh6lfHMmTOzs7ONjIyYf3R2dua2h6MQ0OO09PR09Ko0AID0QQIIADC4xsbGBQsWvH79mq0ch8MdP348ODiY412zZ88mk8n6+vqIuBNA/v7+bMvXYXYxkEHZ2dmLFy/u6+tjKzcyMsrIyBg1ahTHu3bv3v2///0Ph8PhcDgxJoAQTiPy5ORk9C6hAGDrq6++OnjwILrczc0tNjaW4x5zWlpaKSkp3t7eCII4OjpqaGiIKxh1dXX0gWKQOQWypqury9fXNz8/H33pl19+2bJlC8e7Jk+enJOTw3wVId5xmpeXl6GhIWsJlUqNi4sT4yMAAMIhfPfdd1jHAACQaW1tbR4eHk+fPkVf+t///rd9+3Ye9w4fPnzRokVmZmabN2/mOGoXjoqKytOnTwsLC1kL+/r60GddA4CV+/fv+/j4dHd3s5Xr6uqSyeQJEybwuHfmzJkTJ04kkUjOzs5iDMna2vrPP//s7e0dKKHRaGPGjHF0dBTjUwAQxffff//999+jy2fOnHn9+nW2jUVYKSkpBQYG6ujofPTRR6ampmIMSV1dnS3jU1lZuWHDhoEprgBgq6enx8fHh+NheXv37v3666953GtkZOTv729oaLh9+3ZVVVVxhUQgECorKx89esRa2NLSsmHDBnE9AgAgHByDwcA6BgCA7Oru7vby8uI4qvj555+//PJL6YfElJiYyPZWlkgkVlVVieXkFwBE9PTp0/nz56Mn12hra5PJ5GnTpmESFYIg69atO3v2LGvJvHnzbty4gVU8ALA6evToxx9/jC53cHDIzs7W09OTfkgIgtBoNHNz89raWtbC//3vfzt37sQkHgBYUSiUJUuWpKSkoC99+umnv//+u/RDYrp79y769MnXr1/b2NhgEg8AgAmWgAEAuKJQKEuXLuWY/YmIiMAw+4MgiLe3t4GBAWsJlUqNj4/HKh4ABhQXF3t6eqKzP2pqaomJiRhmfxBOq8BycnIqKyuxiAWA/zh37twnn3yCLp8wYQKZTMYq+4MgCIFACAoKYiuEVWBAFtBotNDQUI7Zn3Xr1nFcSik1zs7O6NM/OO7sDgCQJkgAAQA46+/v9/f3T09PR18KCwvbt2+f9ENipaysHBAQwFYII3KAubKyMldXV/RWl8rKyvHx8WI81Us4rq6u5ubmrCUMBiM2NhareABgio+P37BhA3pa+ujRo9PT09nS/dKHzpzm5+e/fPkSk2AAYGIwGJs2bbp06RL6Umho6KlTpwYOy8MEDocLCQlhK4yKisIkGADAAEgAAQA4oNFoq1atSk5ORl9as2bN4cOHpR8SGnpEnpubW1JSgkkwACAI8v79e3d39+rqarZyAoEQHR29cOFCTKJihcfj0bu2R0ZGYhIMAEyJiYnLly+n0Whs5RYWFpmZmeLd0Ec406ZNs7W1ZSuEuQwAQwwGY9u2bWfOnEFfWrJkyZkzZ/B47H/KW7lyJVtJaWlpXl4eJsEAAJiw/9YAAJA1DAZjy5YtHIe2AQEBp0+fxvad0oBZs2ahz1GCuQwAKw0NDR4eHhUVFWzleDz+/PnzgYGBmESFhs6cFhYWPn/+HJNgACCTycHBwf39/WzlxsbGmZmZI0eOxCIoDtCHDERFRcFOmgAr4eHhx48fR5d7eHjExMSI8UB3UYwdOxZ9yABM1gYAW5AAAgCw+/zzz0+fPo0uX7x4cUxMDIFAkH5IHHGcXQxzGQAmWltbPT09i4qK2MpxONyxY8fQORcMOTg42NvbsxXCiBxg4t69e0uWLGE9mY7J0NAwOzsbPekGQytWrGB7+fHmzZvc3Fys4gFD2e7du/fv348ud3FxuXLlioqKivRD4gb98RcTE0OlUjEJBgCAQAIIAMDmq6++4rhroJub28WLF2XkndIA9OzikpKSx48fYxIMGLLa29s9PDwKCgrQl3799dfNmzdLPyTe0HMZoqOj6XQ6JsGAIevJkyc+Pj6dnZ1s5To6OqmpqePHj8ckKm6sra2dnJzYCiFzCqTv0KFD33//PbrcyckpNTVVQ0ND+iHxEBISwvbisL6+PisrC6t4AACQAAIA/L99+/b98ssv6HJnZ+erV6+qqqpKPyTe7OzsHBwc2AphRA6kqaenZ9GiRRw3Ndi3b9+uXbukH9Kg0HMZqqqqbt26hVU8YAh6/vy5m5tbS0sLW7m6unpSUtLUqVMxiYo39FyG2NhYCoWCSTBgaDpz5szOnTvR5RMnTkxJSdHS0pJ+SLyZmpq6urqyFcI4DQAMQQIIAPDB0aNH9+zZgy53cHC4fv26pqam9EPiB3pE/s8//8DsYiAdFAolICAgJycHfenTTz+NiIiQfkj8sLS0nDVrFlshjMiB1JSWlnp6ejY1NbGVKysrX758efbs2ZhENaigoCAlJSXWkubmZo5nZQIgCVFRURs3bkTvPGVjY5Oenq6vr49JVINCj9OuXLmCnvoHAJAOSAABABAEQc6dO/fJJ5+gyydMmEAmk3V1daUfEp+WL1+Onl2cnZ2NVTxg6KDRaCtXrkxJSUFf2rZt2++//y79kPiHHpHHxcX19PRgEgwYUt69e+fu7l5TU8NWrqSkFB8f7+XlhUlU/DAyMnJ3d2crhMwpkI6rV6+uW7cOvVbX0tIyMzPTxMQEk6j44e/vr66uzlrS1dWVlJSEVTwADHGQAAIAIPHx8Rs2bEC/UxozZkx6erqBgQEmUfHJzMxs3rx5bIUwIgeSRqfTV69eHRcXh760atWqo0ePSj8kgSxbtoxto9C2trbU1FSs4gFDRH19vbu7e2VlJVs5gUCIjIwkkUhYBCUAdOY0MTGxra0Nk2DA0JGRkRESEoKe3Tx8+PCbN29aWlpiEhWftLS0fH192QphnAYAViABBMBQl5iYGBISQqPR2MotLCwyMzNNTU0xiUog6BH55cuXu7q6MAkGDAUMBmPbtm0cx69Lliz5+++/8XhZ/3jV09NDT7WAETmQqMbGxvnz579+/ZqtHIfD/fXXX8HBwZhEJRA/Pz+2BdG9vb0JCQlYxQOGgrt37y5durSvr4+t3MjIKDMzc9SoUZhEJRD0OC09Pb2urg6TYAAY4mR9hAoAkCgymRwcHIx+pzRs2LDMzMwRI0ZgEpWg/P391dTUWEtgdjGQqPDw8BMnTqDLPTw8YmJiZO2wPG7QI/Lk5OTm5mZMggEKr62tzdvb++XLl+hLBw4c2Lhxo/RDEoK6urqfnx9bIWROgeQ8ePDA29sb/U5LR0cnLS3Nzs4Ok6gE5e3tbWhoyFpCpVI5TqEFAEgaJIAAGLpyc3P9/Px6e3vZyg0NDbOysmxtbTGJSgja2towuxhITURExP79+9Hl8+fPT0hIYFtXJctIJBLb9l4UCuXKlStYxQMUWHd3N4lEevToEfrSTz/9xPFUI5mFzpxmZWVVVVVhEgxQbM+ePVu4cGFHRwdbuYaGRnJysqOjIyZRCUFJSSnw/9i787ioqv9/4GcYhk1AVlklATdcEs2lkBRTVBSU2JTFrNRs89NipS22+OmjVmZq5cfMtMCJVRLBAAMKLbSP4g6m4AIKCig6CgLjLL8/8Od3vHcYWe7MmTvzej78A9/3zvXVcpwz7zn33OhoRhHzNAAq0AACMFLHjh2bOXNmR98pDR06lEqqbmPPyPPy8urr66mEAQO2fv36Tz/9lF1//PHHd+3axViJpucsLCyefvppRhEzcuCcVCqNjIzcv38/+9AHH3zw7rvv6j5STwQHBzM23FUoFGlpabTygKE6e/bs1KlT2asyLS0tc3Jy2E9y1HPsedrBgwcrKiqohAEwZmgAARijkydPTpky5ebNm4y6lZVVdnb2Y489RiVVT4SEhDA2q5bJZBkZGbTygEHatGnTG2+8wa6PGDFiz549NjY2uo/UQ+wZeXFxMXuDXoBuu3v3blRUVF5eHvvQkiVL/v3vf+s+Ug8JhcI5c+YwiuicAreqq6uDg4PZu+SYmZmlp6ezn32h/wICAnx8fBjF5ORkKmEAjBkaQABGp6KiYtq0adevX2fUzczMMjMzn3zySSqpesjMzCwqKopRxIwcOJSYmLhkyRJ2feDAgfn5+Q4ODrqP1HOTJk3y9PRUrSiVytTUVFp5wMDI5fJnnnlG7Y5szz777IYNG3QfiRPszmlpaana7Y0AuqGmpiYoKKi6uppRFwqFSUlJM2fOpJKqhwQCQWxsLKOYlJREJQyAMUMDCMC4XLp0KTg4+MqVK4y6SCTKyMiYNm0alVScYM/IS0pKsLoYOJGZmblgwQKFQsGo+/r6/v777y4uLlRS9ZyJiQn70UuJiYlUwoCBUSqVL730UkpKCvtQZGTk1q1bBQKB7lNxYsyYMext8tT+kwJ0VUNDQ3Bw8IULFxh1gUCwZcuWmJgYKqk4kZCQwKhUVlYeOnSIShgAo4UGEIARqaurCw4OrqqqYtSFQmFiYmJYWBiVVFwJDAxkPwwVaxmg5/bu3RsXF8d+WJ6np+dvv/3m7u5OJRVX2J3T8vLykydPUgkDhuStt976/vvv2fVZs2YlJycLhULdR+KQ2rUMSqWSShgwGDdv3pw+ffrp06cZdYFAsGnTpueff55KKq4MHjyYvXE1FmsD6BgaQADG4tq1a0899dSZM2cYdYFAsHnzZvYqAN5Ru7oYaxmgh4qKimbPnt3W1saoOzs77927l91z5B1/f/9hw4YxipiRQw+9++6769atY9enTJmSmpoqEol0H4lbCQkJjBVMVVVVJSUltPKAAWhubg4NDT1y5Aj70Jo1a1588UXdR+Ic+yuH5ORk9vcrAKA9aAABGAWJRDJ9+vTy8nL2obVr1y5cuFD3kbSBvbq4oqKitLSUShgwAAcPHgwPD29tbWXU7ezs8vPz/fz8qKTiXFxcHKOyY8cO9v1uAJ306aefrlmzhl1/4oknfvnlFwsLC91H4pyvr++4ceMYRXROodtaWlpCQ0P/+usv9qFPPvnknXfe0X0kbYiNjWWs/quvry8sLKSVB8AIoQEEYPju3LkTFhamtg+yevXqN998U/eRtMTPz8/f359RxIwcuuf48eMzZ868ffs2o25ra7t3796RI0dSSaUN8fHxjLUMNTU1+/bto5UHeO3rr79esWIFu+7v779nzx5ra2vdR9IS9lqG1NRUqVRKJQzwmlQqjY6O/uOPP9iHXn/99Q8//FDnibTFzc1t0qRJjCLmaQC6hAYQgIGTSqURERH79+9nH1qxYsXy5ct1H0mr2DNysViM1cXQVWfPnp02bVpjYyOjbmlpmZWVNWbMGCqptMTLyyswMJBRxIwcuuHHH3987bXX2PVhw4YVFBTY29vrPpL2zJkzh3EvW2NjY35+Pq08wFNyuXzevHl79uxhH3r++efV3krJa+x5WmZmZlNTE5UwAEYIDSAAQ3b37t3IyEi189ElS5asXLlS95G0LS4ujr26uKioiFYe4KNz585NmjSprq6OUTczM8vIyAgKCqIRSrvYM/L09PSWlhYqYYCnMjIyFi5cyN4IuX///nv37nV0dKSSSnucnZ2Dg4MZRXROoUuUSuULL7yQlpbGPjRv3rzvv/+evw/L60hkZKSVlZVqpbm5OTs7m1YeAGODBhCAwZLL5c8880xOTg770LPPPrthwwbdR9IBd3d39udzzMih8y5fvhwcHFxbW8uoC4XCHTt2zJgxg0oqbYuJiTE3N1etSCSS3NxcWnmAd3bv3h0XFyeXyxn1vn37/vbbb25ublRSaRu7c5qVlSWRSKiEAd5RKpUvv/zytm3b2Ieefvrpbdu2mZgY4Cc1Gxub0NBQRhHzNACdMcC/VgCAEKJUKl988cWUlBT2oaioqK1btxred0r3sWfkO3fubG5uphIG+KWhoWHq1KkXLlxg1E1MTH766afo6GgqqXTA3t5++vTpjCJm5NBJBQUFc+bMuXv3LqPep0+f3377rV+/fjRC6UJ4eDhjV6PW1tZdu3bRygP8snz58s2bN7PrU6dOTU5ONjU11X0k3WDP0/Lz89mrbgFAG9AAAjBMb7311tatW9n12bNnJycnM26SMjCRkZGWlpaqFawuhs64efPmtGnTTp8+zagLBIJNmzaxJ6wGhv0PmJOTw94FCYDhwIEDTz/9NPtheU5OTkVFRYMGDaKSSjesrKzCw8MZRXROoTM++uijzz//nF0fP358ZmYmY0mmgQkJCXFyclKtyGSy9PR0WnkAjAoaQAAG6N1331W7a+CUKVNSUlIM+Duldra2tlhdDF1169atqVOnHj16lH3os88+W7x4se4j6VhYWJidnZ1qRSqVZmZm0soDvHDs2LGZM2eyN3C1tbXNzc0dOnQolVS6xO6cFhYW1tTUUAkDfLF+/Xq1+zCOGzcuNze3V69euo+kSyKRiL2iFvM0AN1AAwjA0KxcuXLNmjXsekBAwC+//GJhYaH7SLrHnpHn5eXV19dTCQP6r6WlZdasWYcOHWIfWrly5dtvv637SLpnYWHx9NNPM4qYkYMGJ0+enDJlyo0bNxh1Kyur7Ozs0aNHU0mlY8HBwa6urqoVhUKhdk9fgHbbtm1788032fVHH330119/tbGx0X0k3WPP0w4ePFhRUUElDIBRQQMIwKB89dVXH330Ebs+ZsyY3NxcxlYFBiwkJITxxBmZTJaRkUErD+iztra28PDw4uJi9qF33nlnxYoVuo9EC3tGXlxcfPHiRRpZQN+dPXt26tSp169fZ9QtLCx27949YcIEKql0TygUzpkzh1FE5xQ6kpiYuGjRIvbD8vz8/AoKChwcHKik0r2AgAAfHx9GMTk5mUoYAKOCBhCA4di/f//SpUvZ9eHDh+fl5dna2uo+Ei1mZmZRUVGMImbkoNaKFSv27t3Lrr/88sufffaZ7vNQNGnSJE9PT9WKUqlMTU2llQf0llwuf/rpp69evcqoi0SitLS0yZMnU0lFC7tzWlpaWlZWRiUM6LNTp04tXLhQoVAw6j4+Pr/99puzszOVVFQIBILY2FhGMSkpiUoYAKOCBhCA4RCLxezvlAYOHPjbb78Zz3dK97Fn5CUlJVhdDGxqZ5zz58//+uuvdR+GLhMTk7lz5zKKiYmJVMKAPjty5Eh5eTmjKBQKd+zYERYWRiUSRWPGjGHvda32KZxg5FJSUtgPy/P09CwoKPDw8KASiaKEhARGpbKyUu292ADAITSAAAwH+8nu/fr1KygocHFxoZKHrsDAQG9vb0YRaxmAzcSE+VYYHR39ww8/sOvGgN05LS8vP3nyJJUwoLfYbzcCgeD777+PiYmhkoc6tWsZ2F/JgJFjD5w+ffoUFBSwpyvGYPDgwaNGjWIUsVgbQNsEeHMC6LajR4+ytz+gqLy8/PXXX78/qB0dHdetW+fu7k4rj6mp6ZgxYyg+zOL9999ftWqVamXAgAFnz56llQcIIW1tbQcPHmR/BUrRtm3bVPcdGDdu3Mcff0zxYXm9e/cePXo0+3OCzgwfPvzUqVOqlWXLlqndWh50pq6uTq/acEql8sUXXzx//vz9yquvvjp79myKkXx9fSl+ij537tyAAQMYk+o///xz/PjxtCIBIeTUqVPsGxUpqq6uXrx4sUwma/+tjY3N2rVr2Vvh6IxQKBw1alTv3r1pBVi3bh1j74I+ffrU1NQY/PNqAShCAwigm3Jzc2fMmEE7hb6bM2cOxWXwp0+fHjJkCKN4+PDhxx57jEoeIIS89NJLmzdvpp1C34nF4ri4OFp/+urVq9977z3VioeHR3V1tXEuidIT7u7uV65coZ1Cr1lYWFy+fJmx/b8uPfHEEwcPHlStvPTSS5s2baKVBw4dOjRu3Dh80tFs8uTJBQUFtP70K1eu9O3bVy6Xqxbz8vKmTZtGKxKAwUN7FaCb2ufijo6OjzzyCO0s+qipqens2bN0P7H4+fn5+/sfO3ZMtSgWi9EAoqj9fwkfHx87OzvaWfRRTU1NXV0d3YETHx///vvvq35qqqmp2bdvX1BQEL1Qxq79fwn27RLQrqysrLW19caNGxQbQPHx8YwGUGpq6vr1683MzGhFMnJXrlxRKpW9e/f29fWlnUUftba2lpeX0327cXNzmzRpEqMDJRaL0QAC0B40gAB6ZPTo0WofvAUnT57Uh38z8fHx7AbQ559/jtXFdD3zzDMBAQG0U+ijLVu2ZGRk0M3g5eUVGBi4f/9+1aJYLEYDiDrciNeRZ599tra2lm6GOXPmvPnmm6r3tzY2Nubn5xvhrth6ZciQIZ988gntFPqoqqpq0aJFtFOQ+Ph4RgMoMzNz06ZN1tbWtCIBGDYs5wYAQxYXFycUClUr9fX1RUVFtPIA8AJ7K+j09PSWlhYqYQB4wdnZOTg4mFHEjrYAmkVGRlpZWalWmpubs7OzaeUBMHhoAAGAIXN3d2cvW8CMHECzmJgYc3Nz1YpEIsnNzaWVB4AX2J3TrKwsiURCJQwAL9jY2ISGhjKKmKcBaA8aQABg4Ngz8p07dzY3N1MJA8AL9vb206dPZxQxIwfQLDw8nHHfSmtr665du2jlAeAF9jwtPz+/rq6OShgAg4cGEAAYuMjISEtLS9UKVhcDPBR7Rp6Tk9PY2EglDAAvWFlZhYeHM4ronAJoFhIS4uTkpFqRyWTp6em08gAYNjSAAMDA2draYnUxQFeFhYUxntQmlUozMzNp5QHgBXbntLCwsKamhkoYAF4QiUTR0dGMIuZpAFqCBhAAGD72jDwvL6++vp5KGABesLCwiIiIYBQxIwfQLDg42NXVVbWiUCjS0tJo5QHgBfY87eDBgxUVFVTCABg2NIAAwPDNmDHD0dFRtSKTyag/bBtAz7Fn5MXFxRcvXqSRBYAfhELhnDlzGEV0TgE0CwgI8PHxYRSTk5OphAEwbGgAAYDhE4lEUVFRjCJm5ACaBQUFeXp6qlaUSmVqaiqtPAC8wO6clpaWlpWVUQkDwAsCgSA2NpZRTEpKohIGwLChAQQARoE9Iy8pKcHqYgANTExM5s6dyygmJiZSCQPAF2PGjBk0aBCjmJKSQiUMAF8kJCQwKpWVlYcOHaISBsCAmdIOAABddv5864svnmn/uU8fMxsbISHkqafsoqP7qD3/6lVpSkq9ra3p88+7so++/fa5pia5Ukmqq1tlMiUhpF8/iy1bmJNXvgsMDPT29r5w4YJqMSUlZcWKFbQigS51ctRcu3Z3x46rR440NTbK3NzMfHwsZs1yGjq0F+NqRjJqCCHx8fFr165VrZSXl584ceLRRx+lFQl0qZMDRyKRJSfXnT595+LFVltb0379LKKinEeMsGZczXgGTmxs7Mcff6xaSUpKWrlypUAgoJQIdKqrcZpKCgAAIABJREFU87R2zc3yF188a2lpwhgURjJwBg8ePGrUqCNHjqgWxWLxmDFjaEUCMEhoAAHw2Pz5rvHxLhpOqK1tS06uLyi4IZcrIyKc1Z7zxRe+7T80NclfeOHMtWt3uQ+qB9pXF69atUq1mJSUhAaQsdEwav744+bGjZebmuTtv62qaq2qav3jj5uhoU6vvuqh+sHNSEYNIcTf33/YsGGnTp1SLYrFYjSAjI2GgbN/v2T9+ku3b8vNzU3a2hQtLdK6Ounff9+Ki3N59tkHvnUwnoGTkJDwySefKJXK+5WqqqqSkpLx48dTTAW699B5mqr16y/X1Un79bNg1I1n4MTHxzMaQMnJyWvXrjU1xSdWAM7gFjAAHmN/v3pfXZ108+aa7duvlpbelsuVHZ2mytpaOHJkhxc0AOzVxRUVFaWlpVTCAC0djZr9+yWrVlX162fx7LNur7ziMWuWk4uLGSFEqSTZ2ddSU+vUvsrgRw0hJC4ujlERi8UKhYJKGKClo4Fz9GjThg2XY2Nd0tOHZmcPz8wc9vrrfXv1EhJCkpPrTp1qVvsqgx84vr6+48aNYxSx8ZwR0jBPY9i7t7G4+Kbmcwx+4MTGxgqFQtVKfX19YWEhrTwABgkNIAAe07CW3MzMZOFC9/fff2TJEs8OT2IxNzfkvxP8/PxGjhzJKGJGbmzUjpobN2Tr11968UX3dev6x8X1mT3b6dVXPbZuHTRjhkP7CYmJdR196WrYo4YQEh8fb2LywD9jTU3Nvn37aOUBKtQOnLt3ld99V7NmjU9UlHPv3qaEEGtr4YwZDm++6UkIUSrJ//53q6MLGsPAYVRSU1OlUimVMEBLJ+/5q6lp+/77Kz4+lg8907AHjpub26RJkxhFzNMAuGXIf4kAGDN7e1NTUwEhpE8fEe0seoQ9IxeLxTKZjEoY0B+//nr98cd7M26TNDc3WbLEc8AAS0KITKYsK1O/lsHgeXl5se9bwYwcCCH790tiY13692d+ag0MtLO0NCGE1Ncbb79jzpw5ItED77+NjY35+fm08oDeksmUq1dXP/OMi4eHGe0s9LHnaZmZmU1NTVTCABgkNIAADBy2nFSldnVxUVERrTygJ/7++9b8+Wq2aRAKBdOn31sEdOFCq25D6RH2jDw9Pb2lpYVKGNAfgYG2EyfasesCAbGwMCGEDBzI3EDdeDg7OwcHBzOK6JwC248/XnVwMA0Lc6IdRC9ERkZaWVmpVpqbm7Ozs2nlATA82FILgKaGhrvp6fX5+Y0tLfc21Bgzxmb+fFdHR9GmTTX790sIIc7OouBg+2efdaOa1EC4u7sHBQUx7icXi8VTp06lFQm6ShujZvFi9z591H/16u19b3WDnZ3xvmPGxMS89tprbW1t9ysSiSQ3NzciIoJiKugSbQwcMzP13yPW1rbduCHz9DQPCXHgJDxPxcfH//rrr6qVrKwsiUTSu3dvWpGgq7Q9Tzty5HZR0Y3//ncgl6H5zMbGJjQ0NC0tTbUoFotjY2NpRQIwMFgBBECTs7Po5Zc9Vq/2ab9dixCydKnXwIFWjo6ipUu9TEzIuHG227YNRveHQ+y1DDt37mxuNtK7e/hIG6OG/aD3++4/FMzX9+G7Mxgqe3v76dOnM4pYy8Avuny7+e9/a318LNas8Wm/EcxohYeHW1s/sGVva2vrrl27aOWBbtDqwJFIZGvXXlq6tG/7FlrQjj1Py8/Pr6tT/ygGAOgqo35jBtATQ4b0iou7d/vJnj3X239IT693dzf/4INHDHvDP92LjIy0tHzgkzxWF/ORzkZNVVUrIcTDw3zYMOO9mYWom5Hn5OQ0NjZSCQPdpu2Bc+eOYs2a6hMnml591bOjVXXGw8rKKjw8nFFE55SPtDRwvvzy0sSJdo89ZsNNSkMREhLi5PTADXEymSwjI4NWHgADgw+WAHph7tw+Xl4WhJD09Ppr1+5WVLSkptYvXdoX3R/O2drahoaGMoqYkfORbkbN77/fJITEx7sY+W5aYWFhdnYP7PYilUozMzNp5YFu09LAkUhkmZnXFi78p6joRkuL4s03K1evrrp/14zRYndOCwsLa2pqqISBnuB84Ozefa2h4e6CBVjizSQSiaKjoxlFzNMAuILPlgB6wdRU8NprngIBaW1VbNx4ee3a6rAwRw23pUBPsGfkeXl59fX1VMJAt+lg1Jw61Xz+fMu4cbZTpthzeFk+srCwYO/4gxk5H2lj4LS0KFJS6qurW7y8LNq3fyaE/P77zS+/vMRFZB4LDg52dXVVrSgUCsb+JsAL3A6cixdbf/rp6rvvet2/swxUsedpBw4cqKiooBIGwMCgAQSgL4YP7zV1qgMh5ODBW21tyuefx5dC2jJjxgxHR0fVClYX85RWR41crvzmm8vu7uZLl/bl8LL8xZ6RFxcXX7x4kUYW6BHOB46lpcnixe6vv953zRqfHTv8Zs++d/vGvn03jx836uc3C4XCmJgYRhGdU57iauBIpYpVq6qee86tfUkRsAUEBHh7ezOKycnJVMIAGBg0gAD0yKJFbu0bAcrlSqWSdhrDJRKJoqKiGEXMyHlKe6MmNbW+sVG2apW3MT//S1VQUJCnp6dqRalUpqam0soDPaG9gWNra/rKKx5z597bMOXQodtcXp2H2J3T0tLSsrIyKmGghzgZOFu2XHFzMwsNdXz4qcZKIBDExcUxiklJSVTCABgYNIAA9Iitremjj1oTQurqpElJeN6BFrFn5CUlJVhdzEdaGjUHD9765Zdrq1b5uLubc3VNvjMxMZk7dy6jmJiYSCUM9JC2324SEvo4OJgSQi5ebOX84vwyduzYQYMGMYopKSlUwkAP9Xzg/P33reLimy+/7NHaqmD8ksuVhBCFgtyvGPN3gQkJCYxKZWXloUOHqIQBMCRoAAHokSNHmo4eve3iYkYIycxsOH/e2OfN2hMYGMheXYwZOR9pY9ScPXtn48bLq1b59O9vvI9+V4vdOS0vLz9x4gSVMNAT2n67MTMz8fe3IYQY8yfY+2JjYxmVpKQkLPTlo54PnP37JRKJbN6807NmnWT8Kim5RQiprm69X7l5U8b9PwNPDB48eNSoUYwiFmsD9BwaQAD6oqVF8dVXl557zu1f//IkhMjlyq++uoT5oZYIBAK1M3IqYaDbtDFqLl5sXbWq+qOP+g0YgO4Pk7+//7BhwxhFzMh5RzdvN717Cwkh7u7G/jB4QkhCQoLgwecIVlVVHThwgFYe6B7M03SM/ZVDcnKyTGa8TTEATqABBKAvvv++1s7ONDTUccwYmwkT7AghZ87cycm5TjuXwWKvLq6oqCgtLaUSBrqH81Fz+XLbypUX333Xa9AgK/bR6urW1lZjf6w1e18GsVisUBj7vxZ+0c3bzaVLbYSQwMDe3F6Wj3x9fceNG8coonPKO5wMnLfe6rt37wi1v9p3mO7Xz+J+xd7eqHegi42NFQqFqpX6+vrCwkJaeQAMAxpAAHrh+PGm3NzG9ieMEkJeftnDysqEEPLDD7WNjfiuQyv8/PxGjhzJKGJGziOcj5orV6Qff3zxnXfUd39u3ZJ9912tubmxv2/Gx8ebmDzwL6Gmpmbfvn208kBX6ebt5tq1u2VlzWPG2I4YYc3VNXmNvZYhJSVFKpVSCQPdgHma7rm5uU2aNIlRxDwNoIeMfSILoA9aWxXr1l0KC3O6v+GIg4Np++NF79xRfPPN5Z5c/M4defsPCgWWKTOxZ+RisRiri3mB81FTXy99551z/ftbnD17Z/fua6q/srKuJSXVLVlSMXKkzYO3cRgjLy+v8ePHM4qYkfMFtwPn1KnmpUsrN2y4XFvbplqXShUbNlx2czNftqwvV8n5bs6cOSKRSLXS2NiYn59PKw90iVbnaaABe56WmZnZ1NREJQyAYUADCIAypZKsX3+poeFuQkIf1XpYmJOtrSkh5M8/JZmZ17p9/WPH7r1NVlVhS2kmtauLi4qKaOWBTuJ81Fy/fvedd87V1UmLim5+800N49e339YkJV29du3u1Kn2HP+T8BN7Rp6ent7S0kIlDHQe5wPn8OFbJ08279lzfcGCM19+eenIkduVlS35+Y1vvFHp6Wm+YUP/9ssCIcTZ2Tk4OJhRROeUF7Q9TwMNIiIirKweWJPb3NycnZ1NKw+AAUADCICm48ebXnutoqjoplyuTEysk0jurT1paVFs3lxz+/a9327eXPP22+eqq7vQwbl27e727Vc+/vjijh1X2ytHjzYtW3Zu+/Yrhw7d5vafgr/c3d2DgoIYRczI9Rzno0YuVy5bdr629iH3YkyYYIdPs+1iYmLMzc1VKxKJJDc3l1Ye6AxtvN3ExrpERzt7eJibmgr++OPmV19d3rHjakuLYvVqn8WL3XG/JAO7c5qVlSWRSKiEgU7S3jwNOsPW1jY0NJRRxDwNoCcwlwWgacQI640bB7DrlpYmL73k8dJLHt2+spOT6Lnn3HoQzVjEx8czNhTcuXPnpk2bevXqRSsSaMb5qBEKBVu3DuIimrGwt7efPn16VlaWalEsFkdERNCKBA+ljbcbc3OTRYvcFy1y73E6oxAeHm5tba1690pra+uuXbvmz59PMRVopr15Gttbb/V96y3cNckUHx+flpamWsnPz6+rq3NxcaEVCYDX8OUMABi1yMhIS8sHnvaN1cUAD8Vey5CTk9PY2EglDAAvWFlZhYeHM4pYywCgWUhIiJOTk2pFJpNlZGTQygPAd2gAAfCYVMrxvs5GuFE0VhcbG4waToSFhdnZ2alWpFJpZmYmrTygbRg4nGB3TgsLC2tqaqiEAR3AwOk5kUgUHR3NKGKeBtBtaAAB8NiBA7eU3M0E5HLlP/8Y4zau7Bl5Xl5efX09lTCgbRg1nLCwsGDf8IUZuQHDwOFEcHCwq6urakWhUDBubwFDgoHDCfY87cCBAxUVFVTCAPAd9gAC4LFduxr27bvh5GRGCJk0yS4y0rkbF1m27Fxzs0KpVNbWSpub5Vxn5IEZM2Y4Ojpev379fqV9dfHLL79MMRVoCUYNV+Lj47dt26ZaKS4uvnjxYr9+/SglAi3CwOGEUCiMiYnZuHGjalEsFr/xxhu0IoFWYeBwIiAgwNvb+8KFC6rF5OTkDz/8kFYkAP5CAwiAf3x8LPbuHcHV1T77zJerS/GUSCSKior67rvvVItisRgNIEOCUcO5oKAgT0/Py5cv368olcrU1NRly5ZRTAXcwsDhXHx8PKMBVFpaWlZWNnToUFqRgHMYONwSCARxcXH/+c9/VItJSUloAAF0A24BAwBQs7q4pKQEq4sBNDAxMZk7dy6jmJiYSCUMAF+MHTt20CDmYwdTUlKohAHgi4SEBEalsrLy0KFDVMIA8BoaQAAAJDAw0Nvbm1HEjBxAM3bntLy8/MSJE1TCAPBFbGwso5KUlKTkcKsYAIMzePDgUaNGMYrYeA6gG9AAAgAgAoFA7YycShgAvvD39x82bBijiBk5gGYJCQkCgUC1UlVVdeDAAVp5AHiB/ZVDcnKyTCajEgaAv9AAAgAgRN3q4oqKitLSUiphAPgiLi6OURGLxQqFgkoYAF7w9fUdN24co4jOKYBmsbGxQqFQtVJfX19YWEgrDwBPoQEEAEAIIX5+fiNHjmQUMSMH0Cw+Pt7E5IG5RE1Nzb59+2jlAeAF9lqGlJQUqVRKJQwAL7i5uU2aNIlRxDwNoKvQAAIAuIc9IxeLxVhdDKCBl5fX+PHjGUXMyAE0mzNnjkgkUq00Njbm5+fTygPAC+x5WmZmZlNTE5UwADyFBhAAwD1qVxcXFRXRygPAC+wZeXp6ektLC5UwALzg7OwcHBzMKKJzCqBZRESElZWVaqW5uTk7O5tWHgA+QgMIAOAed3f3oKAgRhEzcgDNYmJizM3NVSsSiSQ3N5dWHgBeYHdOs7KyJBIJlTAAvGBraxsaGsooYp4G0CWmtAMA8FtLS8uVK1dop9BH169fpx2hO+Lj4xkbCu7cuXPTpk29evWiFckg3bx5EwNHLT4uZbe3t58+fXpWVpZqUSwWR0RE0IpkqDBqOiKXy2lH6LLw8HBra2vVId/a2rpr16758+dTTGV4WltbMXDUunbtGu0I3REfH5+WlqZayc/Pr6urc3FxoRUJgF/QAALopvZnuO7btw/bnWrAeNKt/ouMjHzllVdU715pX108d+5ciqkMz/r162lH0Gu8Gzjx8fGMBlBOTk5jY6ODgwOtSAZGIBAolUq0BjTj18CxsrIKDw/fsWOHalEsFuO/Mlfa/384evQo/pVqwK9RQwgJCQlxcnJS7V7JZLKMjIxXXnmFYioAHkEDCKCbJkyYMHr06MbGRtpB9JepqWlsbCztFF3Tvro4PT1dtSgWi9EA4sqcOXP++eefu3fv0g6iv3r37s3eHETPhYWF2dnZ3bx5835FKpVmZmYuXLiQYipDsmjRooKCAtop9NrQoUO9vLxop+ia+Ph4RgOosLCwpqbGw8ODViRDMnbs2ICAgKtXr9IOor9MTEzmzZtHO0XXiESi6Ojo//73v6pFsViMBhBAJwmUSiXtDAAAeiQrKys8PFy1YmpqWlNT06dPH1qRAPTfggULtm3bploJCgr6/fffaeUB0H9yudzT05PRoVi3bt0bb7xBKxKA/vvrr78CAwMZxbNnzw4YMIBKHgB+wSbQAAAPmDFjhqOjo2qlfXUxrTwAvMDe0ba4uPjixYs0sgDwg1AojImJYRSxoy2AZgEBAd7e3oxicnIylTAAvIMGEADAA0QiUVRUFKOIGTmAZkFBQZ6enqoVpVKZmppKKw8AL7A7p6WlpWVlZVTCAPCCQCCIi4tjFJOSkqiEAeAdNIAAAJjYM/KSkpKKigoqYQB4wcTEhL1VVmJiIpUwAHwxduzYQYMGMYopKSlUwgDwRUJCAqNSWVl56NAhKmEA+AUNIAAApsDAQPbqYszIATRjd07Ly8tPnDhBJQwAX7CflpCUlIQ9OgE0GDx48KhRoxhFLNYG6Aw0gAAAmAQCgdoZOZUwAHzh7+8/bNgwRhEzcgDNEhISGI/irqqqOnDgAK08ALzA/sohOTlZJpNRCQPAI2gAAQCowV5dXFFRUVpaSiUMAF+w92UQi8UKhYJKGABe8PX1HTduHKOIzimAZrGxsUKhULVSX19fWFhIKw8AX6ABBACghp+f38iRIxlFzMgBNIuPjzcxeWBqUVNTs2/fPlp5AHiBvZYhJSVFKpVSCQPAC25ubpMmTWIUMU8DeCg0gAAA1GPPyMViMVYXA2jg5eU1fvx4RhEzcgDN5syZIxKJVCuNjY35+fm08gDwAnuelpmZ2dTURCUMAF+gAQQAoJ7a1cVFRUW08gDwAntGnp6e3tLSQiUMAC84OzsHBwcziuicAmgWERFhZWWlWmlubs7OzqaVB4AX0AACAFDP3d09KCiIUcSMHECzmJgYc3Nz1YpEIsnNzaWVB4AX2J3TrKwsiURCJQwAL9ja2oaGhjKKmKcBaIYGEABAh9gz8p07dzY3N1MJA8AL9vb206dPZxQxIwfQLDw83NraWrXS2tq6a9cuWnkAeIE9T8vPz6+rq6MSBoAX0AACAOhQZGSkpaWlagWriwEeij0jz8nJaWxspBIGgBesrKzCw8MZRXROATQLCQlxcnJSrchksoyMDFp5APQfGkAAAB3C6mKAbggLC7Ozs1OtSKXSzMxMWnkAeIHdOS0sLKypqaESBoAXRCJRVFQUo4h5GoAGaAABAGjCnpHn5eXV19dTCQPACxYWFhEREYwiZuQAmk2ZMsXV1VW1olAo0tLSaOUB4AX2PO3AgQMVFRVUwgDoPzSAAAA0mTFjhqOjo2oFq4sBHoo9Iy8uLr548SKNLAD8YGpqGhMTwyiicwqg2fjx4729vRnF5ORkKmEA9B8aQAAAmmB1MUA3BAUFeXp6qlaUSmVqaiqtPAC8wO6clpaWlpWVUQkDwAsCgSAuLo5RTEpKohIGQP+hAQQA8BDsGXlJSQlWFwNoYGJiMnfuXEYxMTGRShgAvhg7duygQYMYxZSUFCphAPgiISGBUamsrDx8+DCVMAB6Dg0gAICHCAwMZK8uxowcQDN257S8vPzEiRNUwgDwRWxsLKOSlJSkVCqphAHghcGDB48aNYpRxGJtALXQAAIAeAiBQKB2Rk4lDABf+Pv7Dxs2jFHEjBxAs4SEBIFAoFqpqqo6cOAArTwAvMD+yuHnn3+WyWRUwgDoMzSAAAAejr26uKKiorS0lEoYAL5g78sgFosVCgWVMAC84OvrO3bsWEYRnVMAzWJjY4VCoWqlvr6+sLCQVh4AvYUGEADAw/n5+Y0cOZJRxIwcQLP4+HgTkwdmGjU1Nfv27aOVB4AX2GsZUlJSpFIplTAAvODm5jZp0iRGEfM0ADY0gAAAOoU9IxeLxVhdDKCBl5fX+PHjGUXMyAE0mzt3rkgkUq00Njbm5+fTygPAC+x5WmZmZlNTE5UwAHoLDSAAgE5Ru7q4qKiIVh4AXmDPyNPT01taWqiEAeAFZ2fn4OBgRhGdUwDNIiIirKysVCvNzc3Z2dm08gDoJzSAAAA6xd3dPSgoiFHEjBxAs5iYGHNzc9WKRCLJzc2llQeAF9id06ysLIlEQiUMAC/Y2tqGhoYyipinATCgAQQA0FnsGfnOnTubm5uphAHgBXt7++nTpzOKmJEDaBYeHm5tba1aaW1t3bVrF608ALzAnqfl5+fX1dVRCQOgn9AAAgDorMjISEtLS9UKVhcDPBR7Rp6Tk9PY2EglDAAvWFlZhYeHM4ronAJoFhIS4uTkpFqRyWQZGRm08gDoITSAAAA6C6uLAbohLCzMzs5OtSKVSjMzM2nlAeAFdue0sLCwpqaGShgAXhCJRFFRUYwi5mkAqtAAAgDoAvaMPC8vr76+nkoYAF6wsLCIiIhgFDEjB9BsypQprq6uqhWFQpGWlkYrDwAvsOdpBw4cqKiooBIGQA+hAQQA0AUzZsxwdHRUrWheXXznzh3c6gLAnpEXFxdfvHixo/OvXbvW1tam3UwA+s3U1DQmJoZR1Nw5xfoggPHjx3t7ezOKycnJHZ3f1tZ27do1LYcC0CNoAAEAdEEnVxfL5fL8/Pz58+e7uro+8sgjN27c0FVAAH0UFBTk6empWlEqlampqYzTJBLJtm3bnnrqKRcXF/aiIQBjw+6clpaWlpWVMYqVlZUrV64cNGiQp6fnd999p6t0APpIIBDExcUxiklJSYyKQqEoLi5+4YUX3NzcPD09q6qqdBUQgDI0gAAAuoY9Iy8pKbm/uvjw4cNvvPGGp6fn9OnTExMTb9++3dzcbGpqqvOYAHrExMRk7ty5jGJiYmL7D21tbbt27YqOjnZ1dV2wYMHvv/+uUCiwAghg7NixgwYNYhRTUlLaf2hoaPjmm2+eeOKJAQMGfPTRR2fPniWEYOAAJCQkMCqVlZWHDx9u//nkyZPLly/v169fUFDQ999/f+PGDYwaMCr4TAIA0DWBgYHe3t4XLlxQLf73v/+1t7cXi8VnzpxhnO/j42NjY6PDgAD6KD4+fu3ataqV8vLy7du3Hzx4MD09nb1KbsSIETpMB6CnYmNjP/74Y9VKYmLi4MGDf/75571798pkMsb5GDgAgwcPHjVq1JEjR1SLmzdvHjhwoFgsPnHiBON8Ozs7Ly8vHQYEoEmgVCppZwAA4Jn3339/1apVnTz56aefxgOPAAghw4cPP3XqVCdP/vHHH+fPn6/VPAD679y5cwMGDOj8dL2xsdHe3l6rkQD037p165YuXdrJkydMmFBcXKzVPAD6A7eAAQB0GXsbIA2GDx+uvSQAPDJz5szOnzxs2DDtJQHgC19f3yFDhnTyZE9PT3R/AAghkZGRJiad/ZyLeRoYFdwCBgDQWQqFoqSkJCkpScPjJNgGDhyovUgA+k8ikWRlZaWnp+fl5XX+VRg4YOSqq6uTk5O3b9/OvrO4Ixg1YOTa52np6enJyckKhaKTr8LAAaOCBhAAwMOVlZUlJSUlJiZeuXKlq68dMGCANiIB6Lm2tra9e/emp6dnZmY2Nzd36bVubm7YOQuMU2NjY0ZGRmJiYklJSVc3asDnWDBa5eXlaWlpSUlJ58+f7+prMU8Do4IGEABAh2pra3/44Qe1Wzt3Xv/+/TmMBKD//v77723btqnd2rmTMGrA2MhksvT09B07dqjd2rmTfH19uU0FoOcaGhp+/PHHHTt2sLd27jy844BRQQMIAKBDISEhPZlSEEJ69erl4ODAVR4A/Xfu3LmAgIDOr71Xy9PTk6s8ALzw7bffvv766z28SN++fTkJA8AXc+fOLSoq6skVBAIB3nHAqGATaACADsXExPTwCh4eHpwkAeALDw+P8ePH9/winIQB4ItJkyY5OTn18CIYOGBsoqKiOr/Zs1oODg6WlpZc5QHQf2gAAQB06P3339+2bZuZmVm3r4DpOBgbCwuL3377LSEhoScXwcABY/Poo4/+/ffffn5+PbkIBg4Ym5deeik9Pd3KyqrbV8CoAWODBhAAgCbPPfdcfn5+tx+s6+bmxm0eAP1nbm6emJj4ySefCASC7l0BAweMkI+PT0lJyeTJk7t9BQwcMEIRERHFxcWurq7de3m3XwjAU2gAAQA8RFBQ0L59+9zd3bvx2t69e3OeB0D/CQSCDz/8cMuWLUKhsBsvx8AB42RnZ7dnz57u3X1sbm5uYWHBeSQA/Td69Og///yze5ug29nZcZ4HQJ+hAQQA8HDDhg3766+/uvGEXXyOBWO2cOHCjIyMbnwoxcABo2Vubp6cnPzKK6909YUYNWDMfH19//zzT39//66+0NbWVht5APQWGkAAAJ3Sr1+//fv3Dxs2rEuvwowcjFx4eHheXl6vXr269Cp8JQvGzMTE5Jtvvnn//fe79Cq83YCRc3V1/eOPP8aNG9elV2HggLFBAwgAoLP69OlTUFDQpR4k//VpAAAgAElEQVSQjY2N9vIA8MLEiROzsrK6tEknBg7Ap59+umzZss6fj1ED0Lt37/z8/Mcff7zzL8HAAWODBhAAQBe4uLgUFRUNHTq0k+f38OmkAIZh8uTJ2dnZnX/ULgYOACFkzZo1y5cv7+TJ3dtvC8DAtPeAOr8OCG83YGzwfzwAQNc4Ozvv3bvX29ubdhAAPnnqqafS0tJMTU1pBwHgk9WrV//rX/+inQKAT2xtbfPz80eMGEE7CIA+QgMIAKDL3N3d8/Pz+/TpQzsIAJ+EhoZu3bq1M8+GVyqVOsgDwAvr1q2Ljo5+6GkYNQD39e7dOycn55FHHqEdBEDvoAEEANAdAwYMyM3Nxa3jAF0yf/78zz//nHYKAD4RCoVJSUmTJ0+mHQSATzw9PfPz852cnGgHAdAvaAABAHTTqFGjEhMTNd89LpfLdZYHgBfeeuut559/XvM5GDgAqszNzdPS0vr376/hHIwaAIZBgwalpaWJRCIN52DggLFBAwgAoPvCw8M//vhjDSc0NjbqKgsAb2zevHnChAkaTsDAAWBwcHDIycnR8MhqjBoAtkmTJq1fv17DCTdu3NBZGAB9gAYQAECPfPDBBxp2Z7h+/bouwwDwgkgkSk1N7du3b0cnYOAAsA0aNGjHjh0dLTttaGjQcR4AXnj55ZcXL17c0dFr167pMgwAdWgAAQD0iEAg2L59+5AhQ9Qeraur03EeAF5wdXXduXNnRyvz0QACUCs0NPTDDz9Ue+jOnTutra06zgPACxs3buzowfBXrlzRcRgAutAAAgDoqV69eu3YscPMzIx96PTp07rPA8ALY8aM6egOyurqat1mAeCNFStWdHQHJTqnAGqZmZn9/PPPah/cce7cOd3nAaAIDSAAAA6MHDnyk08+Yderqqp0HwaAL5YvX/7kk0+y63/++afuwwDwgomJyY8//mhpack+VF5ervs8ALzg4+Pz5ZdfsutYqQ3GBg0gAABuvP322+wbwSQSSX19PZU8APqv/aMs+0awQ4cOUckDwAve3t4bNmxg1zMyMnQfBoAvFi1aFBgYyCi2tbWdOXOGSh4AKtAAAgDghlAo3LVrl0AgYNS3bt1KJQ8AL/j4+Lz++uuMYm1t7cWLF2nEAeCHRYsW+fr6Moo5OTlUwgDwRUZGhlAoZBQ3btxIJQwAFWgAAQBwZsCAAewvl3766ScqYQD4Ys2aNRYWFoxiUlISlTAAfPHtt98yKrW1tWVlZVTCAPCCi4vL7NmzGcX09HQqYQCoQAMIAIBLK1euZFTOnj1bUVFBJQwAL5iYmERHRzOKP/zwA5UwAHwxbdo0R0dHRvHnn3+mEgaALz799FNGpaGh4fDhw1TCAOgeGkAAAFyaOHEie0aekpJCJQwAX7z55puMSlVV1YkTJ6iEAeCLBQsWMCrbt29XKpVUwgDwgp+fX79+/RhFsVhMIwsABWgAAQBwSSAQLFy4kFHEXWAAmvn7+/v4+DCKmJEDaPbCCy8wKleuXDlw4ACVMAB88corrzAqSUlJMpmMShgAHUMDCACAY/Pnz2dUzp07h9XFAJqxO6disVgul1MJA8ALvr6+jz32GKOIzimAZvHx8SYmD3wKvn79emFhIa08ALqEBhAAAMf8/PxGjBjBKGJGDqBZfHw84yF6NTU1+/fvp5UHgBfYXzmkpKRIpVIqYQB4wc3NbdKkSYwi5mlgJNAAAgDg3rx58xiVn3/+GauLATTw8vJiP0QPM3IAzebOnSsSiVQrjY2Ne/fupZUHgBcSEhIYlczMzObmZiphAHQJDSAAAO7FxsYKhULVSn19fVFREa08ALwQHx/PqKSnp7e0tFAJA8ALzs7OwcHBjCI6pwCaRUREWFlZqVaam5t3795NKw+AzqABBADAPXd396CgIEYRM3IAzWJiYszNzVUrEokkNzeXVh4AXmB3Tnft2iWRSKiEAeAFW1vb0NBQRhHzNDAGaAABAGgFe0a+c+dOrC4G0MDe3n769OmMImbkAJqFh4dbW1urVlpbW3ft2kUrDwAvsOdp+fn5dXV1VMIA6AwaQAAAWhEZGWlpaalaaW5uzs7OppUHgBfYM/KcnJzGxkYqYQB4wcrKKjw8nFFE5xRAs5CQECcnJ9WKTCbLyMiglQdANwRKpZJ2BgAAjslkstu3b9NOQZ5//nnGd7BTp05NSUmhlUdVr169zMzMaKcA/XLnzp22tja6Gdra2gYNGnTr1i3V4vr165955hlakVTZ29vTjgB6RyKRKBQKuhkKCwujo6NVK0Kh8NSpUy4uLrQi3ScSiRgLlADkcjnj73kq3nrrrW3btqlWRo8erSd7qFtZWTHuiQbgBBpAAGBolErl0KFDT58+TTuIXuvbt+/Zs2ctLCxoBwF9cfz48ccff7y1tZV2EL22cOHC77//nnYK0COff/75smXLaKfQa0KhcOfOnbNnz6YdBPTI+PHjS0pKaKfQa87Ozv/884+DgwPtIGBoTGkHAADgWGtr6+nTp4lAQHr1pp1FXzXfunTp0vXr1z08PGhHAX1x+vTp1tZWYmpGLKwefrYRUsjJndvHjh2jnQP0y73/JSysiCnWVKojbZFL206cOIEGEKi6N3B69SYCAe0seunO7YaGhsuXL6MBBJxDAwgADJTInPx8nnYIffXcUHL9Cu0QoJeeCCVvb6UdQi9VHiVvTqYdAvTVqxvIhEjaIfSSeDVJ/YJ2CNBXP5YTc8uHn2aE/vUkuVhGOwQYJmwCDQAAAAAAAABg4NAAAgAAAAAAAAAwcGgAAQAAAAAAAAAYODSAAAAAAAAAAAAMHBpAAAAAAAAAAAAGDg0gAAAAAAAAAAADhwYQAAAAAAAAAICBQwMIAAAAAAAAAMDAmdIOAABgQC40ktd+ufezszWxMSeEkIm+5Onh6s+vu00yjhMbC/LMaDVH3/+VNEuJQkkuS4hMTgghj9iTryO0ERyApk4OnGvNJPUoOVZLbtwhLjbE24HMHEL8XJhXw8ABY9DJUXOrlaQfI//Uk+qbxMaCeNmRp4eR4e7Mq2HUgJHo6jyt3R0p+dcvxFLEHBQYOMBDaAABAGhB/CgyZ6SmE67eImnHye+VRK4gs4apP+c/M+790NRGlmSS63c4DgmgbzQMnP3nyaa/SLP03m8v3SSXbpL958l0P/LiE0Qg+L8zMXDAqGgYNX9dJJv+JLfbiLkpaZORlruk/jY5fInE+JOExx44E6MGjM1D52mqvv2L1DeRR+yZdQwc4CE0gAAAtGCYW4eH6ptI9ily/Q45XUfkik5dzdqcjPAgRRVcpQPQUx0NnL8uki9+J0Ndib8HsTYjlyXkUDWpbyJKQnJPE+deJGqEmldh4IAx6GjUHK8lm/4i0f5kki/pbUmapeTPC2T7/8gdKUk/RkZ6kKGual6FUQNGQsM8jaHwLNl//iHnYOAAf6ABBACgBSaCDg+ZmZJnxxKhCflfNfn0t85e0FzISS4AvaZ24NxsJZv+JAvHPbBW7tkxZOtBkn+GEELER0hQf+LUS81rMXDA4KkdNXflZNvf5N/TiY/jvUovMzJtELExJ2sKiZKQ0svqG0AEowaMg4Z5mqpaCfnxMOnnQC42PuRMDBzgCWwCDQCgW3YWRGhCCFH/eRUAGPJPkzFezDslzU3JiwGkvxMhhMgV5J96KtEA9NRfF0m0//91f+57oh+xFBFCyLUm3YcC4Bm5gqwtJnEjiYct7SgAnEEDCACAEkHnvn0CMHKHLpH4UWrqQhMSPPDezw/9bhbAqAT0I4HeauqC/79OwddZx4kA+CeplDhYkhA/2jkAuIRbwAAA1Pm7imz7H7ly695vPXuTsY+QZ0bfWzN8R0q2/4/8XkmkcjLAiXwwldhbUgwLoC+0MXAWjCPO1uoPef3/LTl7W/Q8OwAd2hg1Zh3cjXL1FrnZSjxsybRBHKUHoETb87TjtaS4kmx4muPYALShAQQAoM64R8gQF/JqJrnRQgghiwPICJXn5lqZkVcCya02UtFAVs0k5vi7FIAQop2Bw37Q+333HwrGvtUFgC90+Xaz5SDxdiAfBBMLvG0Bz2l14NxqJeuLyb8mEFt8uwCGBreAAQB0wMaChA299/PZBuZRhZKU15HQoej+ADxAlwPn0k1CCHHvTYZ0sJ0tAC/oYNTcuUu+/IOcukIWB3S4pA6AX7Q3cDbuJ0/6kJEePU0IoH/QAAIA6Ni0wffmDXvPEKXygUMnrpBbrWSiL5VcAHpNZwOn+BwhhMzxJ9hQC/hOe6PmVivJKiOv7iTF50irjCzPIWt/J62yngYG0AfaGDh7ysm1ZvLMaG4SAugZNIAAADpmY04mDyCEkLrb5GDVA4f2nSOPuhFHKyq5APSabgZO2VVysZGM7ksm9efgagB0aWnUtNwlGcfJ5RvEo/f/3fa17zzZsK9ncQH0A+cDp+oG+fkIWRpETPFYdzBMaAABAGg0a+i9x3XtLvu/olxBDlbx/WPnyy+//M8//9BOAQZK2wNHriBbDhBXW/LakxxcDUAfaGPUWIrI8+PIK4Hk3yHkhzlk5pB79b8ukJO1PYsL0GXNzc2pqalRUVEtLS2cXZTDgSOVk7W/k4TRpK8dZ/EA9AwaQAAAGrn3JmO9CCGk7Co5d+1e8WgNkclJgLqH7PLH7t27hw8fvnjx4tpafAwArml74Ow8QRpbyMpppDcewAeGQtujxsaCLH6CRI2499vSGg6uCdAJ9/s+zs7Oc+fO3blzp5Jxu1ZPcDhwtv+PuNiQkMGcZQPQP2gAAQA8TPiwez9kl9/7Yf958ng/A3iKikwm27Jly4ABA9577z2JREI7DhgW7Q2c/1WT3WXk46nE1banlwLQKzp4u5k78t7zsKtvcHZNAHXYfR8uF/6o4mTgHKomf14gLzxOWmXMX3IlIYQolP9X4a5/BaBjvP/0AgCgdUNdSX8nUnmN7DtP5o8h1mbk7yqybDLtWJy5c+fO6tWrt2zZ8t57773yyivm5ua0E4FB0NLAqWwg//2LfDyN+DpxkRJAn+jg7cZMSB51J8XniAIfYY3d3bt3x44d29jY+Nhjj40ePfqxxx4bOnSop6dnDy/b3Nyck5OTmpr666+/trW1cRL1ITgZOCVVRNJCFqZ1eMKlmyTmp3s/J8YTOzwhHngJDSAAgE4IH07W/k5kcpJ7mvg4EnNTMsKddiaOXb9+fenSpevXr//3v/89b948ExMsEYUe43zgVN0gn/9B3gsm/dH9AQOlg7cbWwtCCHHDAjoglZWVTU1N1dXVv/zyS3uld+/efn5+/fv39/b27tevn5eXV58+fZycnBwdHTV8P3Tjxo26urrs7Oy0tLRjx47JZDp/zJwRzNMAOIEGEABAJ4zvR36yJg1NJPcf4teHTPQlJob53OlLly49++yz//nPf7766quZM2fSjgM8x+3AqZGQNQXkrSAyQF3359JN4mxtADdmgrHTwdtNzU1CCAnox/FlgW9EIlFYWFhycrJqUSKRHDx48ODBg+zzbWxsTE1Nrays7neC2trabt26dfv2bV3E1aznA+e1Jzt8qsCG/aTwLHnEnnwd0fOkAHThC14AgE4QmpDIRwkhRNJCDlaRpwbQDsQBkUjU0aGKiorQ0NBBgwYVFRXpMhIYGg4HztXbZFUBeSOIDHRWc/R2K9n2NzFH9wf4T9tvN9fvkPI6MsqTDHfj+MrAQ9HR0Z0/+fbt2zdu3KipqTn//9XU1HS1+2NpaRkaGmpmZtbFpA9jiPM0AG1AAwgAoHOCB97bOPMRe9LPgYML3pHe+4HDZ2F0RWFhYXR0tEDQ4VdkZ8+enTx5soeHx6effnrmzBldZgPDwcnAaWgiH/xKfB1JRQPZU878lXyULN1NRngQw1yWB8an56Om7Cp5dw/Z9Be5euuBulROvv2TuNqSpRM5yAn8N336dGtrax38Qe19n59++qm+vj47O9vUVAv9es7naQCGCN+VAQB0jkhIpvuR5COcfa108sq9Hyg9isXHxyctLe3QoUPLly/XsNKntrZ2xYoVK1ascHBwePLJJ8ePHz9y5MiBAwf27dtXQ/MI4J6eD5zGO+SDXFLfROqbyB/nOvxTJvfvdkYA/dLzUXOshpRdJWVXyW9nyaT+ZKIvsTYjFxrJr6fJMFey7Cksl4N2lpaW7LvAOGRubh4cHBwdHR0REaH1ThPn8zQAQ4S//QEAOs3NlggEZKJvjy5yrZnknibVN8mh6nuV47VkRS4Z6EyGuJLHevr0ja4aM2ZMYWFhQUHBW2+9dfz4cQ1nNjY2ZmVlZWVltf/Wyspq4MCBgwYN8vDwcHd3d3FxcXV1tbe3t7GxsbKy6tWrV/tpQqFQIBDIZLL2h7+6u2NTRuPTk4EjV5AVueTKrYecNt6b2OCBLGBAevh2EzWC3JWTg9XkWhPZf56cuEJ8HMhwN/LJNIwUYIiOjua8ASQUCsePH79gwQJd9H1UcTJPAzBoaAABAHTayVri704crHp0EadeZN5ojgJxZsqUKUePHs3IyHj99ddra2s785I7d+4cO3bs2LFjXfqDdu7cGRGBPRSNTE8GjtCEfBvJdSAAvdfDtxtzU/LsWPLsWE4zgWFqvwusqamJk6s5OjouW7bspZde0mnf5z5O5mlsGvaHBuAb7AEEANA5LXfJXxfI1MG0c2iLQCCIjo6+ePHiV199ZWGhra+IHRxwW76RMfSBA8A9jBrQofa7wHp+HQsLi3Xr1jU0NLz99tt0uj8YOACdgAYQAEDnFJ4lliLyuFenTpbKOf7TFTraKFokEr3++usNDQ1RUVGcX3zq1KlBQUGcXxb0mnEMHAAuYdSADrW0tPTr16+HFwkKCiovL3/jjTdobg6IgQPQCWgAAQB0QK4glQ33pgi1ErLjCIl4lAg799fm39WEw5mAXEHONHB3uYeztrZOT09PTEwUCoVcXVMgEKxevZqrq4H+MuKBA9BNGDWgcy0tLdnZ2c8880yfPn168u5sbm7+9ddfFxUVeXt7cxivUzBwALoOewABAHTg3T3kn3oiNCG+jqT6BnHvTWb4dfa1OWXkr/PE0ZoQQib4kPBh3QmwIpc03yVESWpv/d8z43Vo3rx5Tk5OERERra2tPb9aXFzcqFGjen4d0HdGP3AAugyjBnSlpaWloKAgPT39l19+6fm+P56enhkZGePGjeMkW5dh4AB0HRpAAADqKAmpukEIIXIFOdtArMzIksCHf63k7UB2L+Asw79DOLtUd4WEhOzZs2f27Nk9nCaamZmtXLmSq1SgvzBwALoKowa0j9u+T7spU6YkJyc7OTlxcrUuw8AB6BbcAgYAoI6AkDcmEjdbYmVGRnmQtbOIL6UpDm1PPfVUfn7+/ce6d8/ixYt9fHy4igT6CwMHoKswakBrVO/zmjVrVlJSElfdn2XLluXl5VHr/hAMHIBuwgogAIAOPP4IefwR2iH0QkBAQFZW1owZM6TS7qxwtra2fv/99zlPBXoKAwegqzBqgFPaWO9zn6mp6bfffvvCCy9we9nuwMAB6Do0gAAA4OEmT568devW+fPnK5Vd3jVx6dKlLi4u2kgFAAAA7brd97G0tJw8ebKPj8/GjRs1n9mrV6+UlJTQ0NCeJQUAatAAAgCATpk3b97Vq1ffeeedrr4wJSVl6NCh0dHR2kgFAABgzHrY94mOjo6IiLC2tm5padm2bZuGK9jb2+fl5Y0dO5aL1ABABxpAAADQWW+//XZlZeWWLVu69KozZ87ExMQ88cQTn3322ZNPPqmlbAAAAMaDq76Paj0sLCw5OVntq5ydnffu3evv79/T3ABAFRpAAADQBd98880///yzb9++rr7wwIEDEyZMmDJlyrp164YPH66NbAAAAIaN876PqujoaLUNIFdX14KCgqFDh3YzNADoDTSAAACgC0QiUUpKyujRo2tra7vx8oKCAn9//8jIyC+++OKRR7B3IwAAwMNpte9zX0hIiK2t7a1bt1SLTk5O6P4AGAw8Bh4AALrGzc0tPT3d1LSbXyEoFIr09PQhQ4YsX7785s2b3GYDAAAwGN1+jrulpWVoaOhPP/1UX1/ffoWHdn8IIRYWFjNnzlSt2NnZ5efno/sDYDDQAAIAgC4LCAj4+OOPNZ+zYsUKX1/fjo7euXPns88+8/X1/eyzz1pbWznOBwAAwFs67vuoUn1ig5WV1Z49e0aNGtW19ACgx9AAAgCA7nj33Xefeuqpjo5OnTp15cqVp0+f/u677zQ8A76xsXH58uUDBgzYsmWLXC7XTlIAAAAeoNj3uW/69OntrxUKhcnJyQEBAd27DgDoJ+wBBAAGStpKZjnQDmHITExMEhMThw8ffuPGDfahNWvWEEJEItELL7wQFxf37bff/uc//7l9+7baS12+fHnx4sXr16//5JNP8LR4yvZnkv2ZtEMA8M3aRWTtItohgK90s79P568ZFRX1448/fvPNN7NmzeLkmh2K9tDu9QGABSuAAMDQWFhYjBw5knYKfTdgwAAnJ6ceXsTDw2PDhg3semxsrOp/Amtr62XLlp07d27ZsmVmZmYdXe306dMxMTEBAQH79+/vYTDohuHDh9vY2NBOoe+eeOIJ2hFAvzz++OMCgYB2Cr1mZmY2evRo2in0kT6s91Fr8+bNZ86cefHFFzm8JgP+Ln0oT09PLy8v2inAAAmUSiXtDAAAwGOzZ8/evXv3/d+amZmdPn3ax8dH7clnz5794IMPMjIyNL/74GnxxkyhUDz66KNlZWWMukgkysjI0Po30gA8UV9f/9xzz/36669qjzo7O585c8be3l7HqeCh9Gq9DwAYGzSAAACgR2pra4cMGSKRSNp/u2TJko0bN2p+yaFDh5YvX15UVKThHBMTEzwt3mhVVFRMnDjxypUrjLq5uXl2dnZwcDCVVAD6Iy8vb/78+fX19WqPent779y5E4th9Qr6PgCgD9AAAgCAnvr666//9a9/EUKsra0rKys17PqsqqCg4J133jl69KiGc6ysrJYsWbJ8+XI7OztusgJPnDlzZuLEiXV1dYy6paVlXl7ehAkTqKQCoK6tre2jjz76/PPPO5rDR0dHf/fdd1j7oyfQ9wEAvYIGEAAA9JRcLn/88ccPHz78ySeffPjhh51/oVKpzMjIePfdd8+dO6fhNAcHh3feeee1116zsLDocVjgjWPHjj311FPsXcatra1///137CoCRuiff/6ZNWtWRUWF2qM2NjZr16594YUXdJwK2ND3AQD9hAYQAABwoKqqKjs7e9GiRebm5l197d27d7dv3/7hhx+yl3uo8vT0XLFixYIFC4RCYQ+SAp8cOHBg6tSp7I9P1tbW+/fv9/f3p5IKgIovvvjivffek8lkao+OGTPm559/7t+/v45TgSr0fQBAz6EBBAAAeqGpqUnz0+Lb+fn54WnxRqWwsDA0NLS1tZVRt7W1/fvvvwcPHkwlFYDOSKXStLS05cuX19TUqD1BIBAsWbLkiy++0PCYRdAq9H0AgC/QAAIAAD3S0NDw5ZdffvXVV1KpVMNpTzzxxGefffbkk0/qLBhQlJeXN2vWrLt37zLq1tbWx48f7+iRcwB8d/jw4cT/1969B2g5540f/86Yzgc5dFDaWrJsOyhbizw7pVCtspQsJdE+1Ob80+pgsR5RVrs8WbS1azWp1pIlrR4qbTmUFdlSQlJSdE6pqaaZ+f0xOdTckw4z98x85/X6Z8d1Xfd9f1h/TG/XfX0yMzMzM79+yn5B9evXHz9+fOvWrZM5GPl0H6DMEYAAKHVsi2cvEydO/MUvfpGTk7PX8WrVqr366qu+C0Y0srOzX3vttSlTpkyePHnRokX7vrhz586PP/74kUcemZzZyKf7AGWXAARAKWVbPN82ZsyYq666quDvLampqXfeeefgwYPT0tJKZDA4RLm5uQsXLnzttdemTZs2bdq0fdzv87XDDjts2LBh/fv3T8J45NN9gAgIQACUarbF87UHH3zw5ptvTniqadOmjz76qPXwlAk5OTlLliyZP3/+/Pnz//3vf8+ZM2fz5s37//Kjjz565syZTZs2Lb4J+ZruA8REAAKgtLMtnq/9+te/Hj58eMJTKSkpPXr0GDJkiNvBKD1WrFjx6aefrl69+tNPP/3444+XLl26dOnSDz/8MCsr6+DesGHDhosXL65atWrRzsledB8gSgIQAGWDbfHk+/nPfz5p0qTCzlasWLF3796DBw9u2LBhMqeCgv7whz/ccsstRfiG9erVW7hwoYf+FB/dB4ibAARAWWJbPHl5ecccc8y+O2ClSpX++7//e8CAATIQJSgzM7NXr15F9W7VqlWbPXu2x94XB90HKCcEIADKHtviy7mpU6eed95533lZWlpaly5dbrjhhrPOOisJU0FBXbp0+cc//nHo75OSkvL000936dLl0N+Kr+k+QHkjAAFQVtkWX56de+6506ZN28+LW7Ro0bdv30suuaRGjRrFOhXsZf369aeeeurKlSsP8X0GDRp07733FslI6D5AuSUAAVC22RZfPr399tstWrQ4oF9jqlWr1rVr1yuvvDIjI8MjokiaWbNmtW3bNicn56DfoXnz5nPmzKlYsWIRTlUO6T4AAhAAMbAtvhy69NJLn3zyyYN4Yb169bp06dKtW7ef/vSnShBJMGjQoGHDhh3caytVqjR37tz09PSiHan80H0AviYAARAJ2+LLm3nz5p122mmH8g5HHnlk+/btzz///IsuushebYpPdnb2WWed9eabbx7Eax944IGbbrqpyEeKnu4DUJAABEBUbIsvV9q2bTtjxoxDf58+ffqMHDny0N8HCrNkyZLmzZsfUIkIIWRkZMyYMSM1NbWYpoqP7gOwDwIQABGyLb6ceP755y+44IJDfJO0tLSnnnrqwgsvLJKRoDDXXXfdww8/vP/Xp6WlvfXWW6ecckrxjRQN3QdgfwhAAETLtvjo5ebm/tj+ZNcAACAASURBVPCHP/zggw8O+h0qVqw4YcIE27UpVllZWQMHDhwxYsQBverWW2+97777immkOOg+AAdEAAIgcrbFx+3BBx+8+eabD+61VapUeeaZZzp06FC0I8G3vfXWW927dz/QTPm9731v0aJF1apVK6apyjTdB+DgCEAAlAv7uS2+R48ew4YNq1+/ftIG4xCtX7++fv36+77JK6Fq1ao999xz7dq1K46pIISQl5c3YsSIW2+99SD+/Rw3blz37t2LY6qyS/cBOEQCEADliG3xUbroooueffbZA3pJrVq1XnjhhTPPPLOYRoLVq1dfddVVU6ZMOYjXNmvW7K233vLs53y6D0BREYAAKF9si4/Pc889d0CPcK5Tp85LL7106qmnFt9IlHMvvvjilVde+fnnnyc826hRo5o1ay5YsKCwl0+bNs29aboPQJETgAAoj2yLj0l2dnbdunU3bty4PxenpqZOnDjRzi+Kyfbt2wcMGPDQQw8V9jt2z549H3nkkXXr1jVr1uyLL74oeMG555770ksvFfOYpZfuA1B8BCAAyi/b4qPRq1evzMzM/by4Tp06M2fOPOmkk4p1JMqhhQsXdu/eff78+QnP1qxZ85FHHunRo0f+Xz711FOXXHJJwctmzZpVDpcS6j4ASSAAAVDe2RYfgUmTJv385z/f/+uPPfbYV155pXHjxsU2EeVLXl7e6NGjb7755m3btiW84Iwzzhg3btxxxx337YMFw2W7du2mTZtWjIOWMroPQDIJQAAQgm3xZdz27dtr1659QH+AbNKkyaxZs4455pjim4pyYu3atb179548eXLCs2lpabfccsvdd99doUKFvU5t2bKlefPm334e2YwZM9q0aVN8o5YSug9AiRCAAOAbtsWXXZ07dy7sT+Df//73ly9fnpubu9fxE088cebMmXXr1i3+6YjWtGnTrrjiis8++yzh2UaNGo0dO3Yfdw7OnTu3VatW2dnZIYQWLVq8+eabxTVoKaD7AJQs2yUB4BstW7acPn361KlTmzdvXtg1ubm5Y8eOPeGEEwYOHLhp06Zkjsc+tG/fPuHxjIyMd95553//938Lnnr//fc7dOiwn0+Phr3s2LFj4MCB7du3L6z+dOvWbd68efv+3miLFi1++9vf5v/cv3//Ih+yNMjKynr++eevuOKKOnXqXHDBBWPHjt3P+lOlSpVOnTqNGTNmzZo1+e+g/gAcCncAAUACtsWXOR999FGTJk32OtixY8eJEydWqVIlhHDPPff85je/KfjCM88886WXXvIHSw7I4sWLu3fvPm/evIRna9SoMXz48GuuuWZ/3io3N7dHjx4bN26cPHlyWlpakY5ZktzvA1DaCEAAUCjb4suWxo0bL1++/Ou/7Nq16/jx4ytWrPj1kcGDBw8dOrTgC9u1azd58mQVj/2UmZnZr1+/rVu3JjzbsmXL8ePHF8yR5YTuA1BqCUAA8B1siy8revbs+cQTT+T/3L179zFjxhS8n6J///6///3vC762Q4cOzz333LdrERS0adOmvn37PvnkkwnPpqSkXH/99ffff385/BdJ9wEo/QQgANgvtsWXfqNHj87/0k3fvn0ffvjh1NQEzzrMy8vr27fvqFGjCp7q2rXr3/72t5i+g0PRmjFjRs+ePVeuXJnwbMOGDceOHdu6deskT1WydB+AMkQAAoADYFt8afb555+ff/75P/vZz/7nf/4nJSWlsMtyc3Mvv/zyCRMmFDzVq1evxx57LGE5ojzbtWvXkCFD7r777oK75PJddNFFf/7zn4888sgkD1ZSdB+AskgAAoADZlt8WZednd21a9fnn3++4KnrrrvuoYceSv5IlFoff/xxjx49Zs+enfBslSpVhg4deuONNyZ5qhKh+wCUaQIQABykadOm3XrrrYWtAcpXtWrV66+/fuDAgbVq1UraYOyPnTt3XnjhhVOmTCl4avDgwffcc0/yR6IUyszMvPbaawuLHenp6RMmTEhPT0/yVEmm+wDEQQACgIOXm5s7ceJE2+LLqG3btnXs2HHWrFkFT917772DBg1K/kiUHps3b/7Vr341fvz4hGfzn/f8u9/9rlKlSkkeLGl0H4DICEAAcKhsiy+7Nm/e3K5du7lz5xY8NXz48FtuuSX5I1EazJkzp0ePHkuXLk14tm7dun/96187duyY5KmSQ/cBiJUABABFw7b4MmrdunVt2rRZuHDhXsdTUlJGjhyZv1aM8iP/ec9DhgzJyclJeEH79u0ff/zxevXqJXmw4qb7AERPAAKAomRbfFm0Zs2a1q1bL168eK/jqampTzzxxGWXXVYiU5F8y5cvv/zyy1999dWEZytXrjxs2LAbbrhhHzvmyhzdB6D8EIAAoOjZFl/mrFixIiMjY9myZXsdr1ChwsSJEzt37lwSQ5FUTz31VJ8+fTZu3JjwbNOmTSdMmHDKKackeapiovsAlEMCEAAUF9viy5YlS5ZkZGR89tlnex2vWLHis88+G+sDXwghbNmypX///qNGjUp4NiUl5eqrr37ggQeqVq2a5MGKnO4DUJ4JQABQvGyLL0PefffdNm3arF+/fq/jVatWnTJlSkZGRolMRbF68803u3fvvmTJkoRna9eu/dhjj3Xq1CnJUxUt3QeAIAABQBLYFl+GvPPOO23bti34PaCaNWtOnz69RYsWJTIVxSEvL2/EiBG//vWvs7OzE15wzjnnjBkzpuzenaf7APBtAhAAJIlt8WXF7NmzzzvvvIJ/YD766KNnzJiRnp5eIlNRtFasWNGzZ8+ZM2cmPFuhQoXBgwffcccdqampSR7s0Ok+ACQkAAFAUtkWXyZMnz69U6dO27dv3+t4nTp1Zs6cedJJJ5XIVBSVZ5555uqrr96wYUPCsyeddNL48eObN2+e5KkOke4DwL4JQABQAmyLL/0mTZp08cUXF/xyUMOGDWfNmtW4ceOSGIpDlZWVNXDgwBEjRhR2Qc+ePR999NFq1aolc6pDofsAsJ8EIAAoMbbFl3ITJ0689NJLd+3atdfxJk2azJo165hjjimRqThob731Vvfu3T/44IOEZ2vVqjVy5Mhf/OIXSZ7q4Og+ABwoAQgASpht8aXZmDFjevfunZubu9fx9PT0f/3rX0cddVSJTMWByn/e86233lrYPXdnn312Zmbmsccem+TBDpTuA8BBE4AAoFSwLb7U+uMf/3j99dcXPN6sWbOXX375iCOOSP5IHJDVq1dfddVVU6ZMSXg2LS3ttttuu/3220vzY9d1HwAOnQAEAKWFbfGl1j333POb3/ym4PEzzzzzpZde8ufq0uzFF1+88sorP//884RnGzduPG7cuFatWiV5qv2k+wBQhAQgAChdbIsvnQYPHjx06NCCx9u1azd58mQxrhTavn37gAEDHnroocJ+3e3Zs+cjjzxSCvuI7gNAcRCAAKA0si2+FOrfv//vf//7gscvuOCCp59+ukKFCskficIsWrTosssumz9/fsKzNWvWfOSRR3r06JHkqfZN9wGgWAlAAFB62RZfquTl5fXp02f06NEFT3Xt2vVvf/tbWlpa8qdiL3l5eaNHj7755pu3bduW8IIzzjhj3Lhxxx13XJIHK4zuA0ByCEAAUNrZFl965OTk9OzZc8KECQVP9erV67HHHktNTU3+VHxt7dq1vXv3njx5csKzaWlpt9xyy913310abtfSfQBIMgEIAMoG2+JLiezs7K5duz7//PMFT1133XUPPfRQ8kci37Rp03r16rVq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LLkpAQC+IQABAByglBBu+mkY+nL4ckfInBvGzg3VK4fDK4WduWHTtrArN7Q9Idz9sz12wAMAlCgBCADgwJ1cPzxycXj5gzBneVjzZdi8I6SmhHrVw399P5z7g9Dg8JKeDwBgDwIQAMBBqVU5dDkldDmlpOcAAPhuHgINAAAAEDkBCAAAACByAhAAAABA5AQgAAAAgMgJQAAAAACRE4AAAAAAIicAAQAAAEQuraQHAADY0+jBYfywkh6C/bDh85KeAADYXwIQAFBaNGzYMIQQPlta0oNwAHb/vwYAlG4peXl5JT0DAEAIIWRnZy9YsMAvJ2VIpUqV0tPTS3oKAOC7CUAAAAAAkfMQaAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgI9wQfAAABrxJREFUcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOQEIAAAAIDICUAAAAAAkROAAAAAACInAAEAAABETgACAAAAiJwABAAAABA5AQgAAAAgcgIQAAAAQOT+PzczuBDqlKY6AAAAAElFTkSuQmCC" width="768" /></p>
<ul>
<li>Think of each line of BUGS language code as declaring one or mode
<em>nodes</em>.</li>
</ul>
</div>
<div id="get-and-set-values" class="slide section level1">
<h1>Get and set values</h1>
<p>This is done in natural R syntax.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>sigma</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>x</span></code></pre></div>
<pre><code>## [1] 0.1 0.2 0.3 0.4</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>x[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>x</span></code></pre></div>
<pre><code>## [1] 0.1 0.2 0.6 0.4</code></pre>
<p>This can be done with a compiled model too.</p>
</div>
<div id="you-can-even-get-and-set-data-values" class="slide section level1">
<h1>You can even get and set data values</h1>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1] -0.6264538  0.1836433 -0.8356286  1.5952808</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>y[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1]  0.8000000  0.1836433 -0.8356286  1.5952808</code></pre>
<p>Why would this be useful?</p>
</div>
<div id="get-names-of-nodes-in-the-graph" class="slide section level1">
<h1>Get names of nodes in the graph</h1>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getNodeNames</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;intercept&quot;      &quot;slope&quot;          &quot;sigma&quot;          &quot;predicted.y[1]&quot;
##  [5] &quot;predicted.y[2]&quot; &quot;predicted.y[3]&quot; &quot;predicted.y[4]&quot; &quot;y[1]&quot;          
##  [9] &quot;y[2]&quot;           &quot;y[3]&quot;           &quot;y[4]&quot;</code></pre>
<h2 id="get-types-of-nodes">Get types of nodes</h2>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getNodeNames</span>(<span class="at">dataOnly =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;y[1]&quot; &quot;y[2]&quot; &quot;y[3]&quot; &quot;y[4]&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getNodeNames</span>(<span class="at">determOnly =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;predicted.y[1]&quot; &quot;predicted.y[2]&quot; &quot;predicted.y[3]&quot; &quot;predicted.y[4]&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">isData</span>(<span class="st">&#39;y&#39;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">isData</span>(<span class="st">&#39;x&#39;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE</code></pre>
</div>
<div id="get-node-relationships" class="slide section level1">
<h1>Get node relationships</h1>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&quot;x[2]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;predicted.y[2]&quot; &quot;y[2]&quot;</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&quot;sigma&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;sigma&quot; &quot;y[1]&quot;  &quot;y[2]&quot;  &quot;y[3]&quot;  &quot;y[4]&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&quot;slope&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;slope&quot;          &quot;predicted.y[1]&quot; &quot;predicted.y[2]&quot; &quot;predicted.y[3]&quot;
## [5] &quot;predicted.y[4]&quot; &quot;y[1]&quot;           &quot;y[2]&quot;           &quot;y[3]&quot;          
## [9] &quot;y[4]&quot;</code></pre>
</div>
<div id="why-do-node-relationships-matter" class="slide section level1">
<h1>Why do node relationships matter?</h1>
<p>For typical MCMC samplers,
<code>model$getDependencies(&#39;slope&#39;)</code> returns the nodes that need
to be calculated when sampling (updating) <code>slope</code>.</p>
<p>Results from <code>model$getDependencies</code> are in
<em>topologically sorted</em> order:</p>
<ul>
<li>If you calculate them in order, youll get correct results.</li>
<li>E.g., <code>predicted.y[2]</code> comes before
<code>y[2]</code>.</li>
</ul>
</div>
<div id="why-provide-indexes-as-constants" class="slide section level1">
<h1>Why provide indexes as constants?</h1>
<p>Recall the likelihood component of the deer E. cervi model:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_animals) {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">logit</span>(disease_probability[i]) <span class="ot">&lt;-</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    sex_int[ sex[i] ] <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    length_coef[ sex[i] ] <span class="sc">*</span> Length[i] <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    farm_effect[ farm_ids[i] ]</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  Ecervi_01[i] <span class="sc">~</span> <span class="fu">dbern</span>(disease_probability[i])</span></code></pre></div>
<p>Lets consider passing <code>farm_ids</code> either in
<code>constants</code> or in <code>data</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>DEconstants <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">num_farms =</span> <span class="dv">24</span>,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">num_animals =</span> <span class="dv">826</span>,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">cLength =</span> DeerEcervi<span class="sc">$</span>cLength,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sex =</span> DeerEcervi<span class="sc">$</span>Sex,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">farm_ids =</span> DeerEcervi<span class="sc">$</span>farm_ids)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>DEdata <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Ecervi_01 =</span> DeerEcervi<span class="sc">$</span>Ecervi_01)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>m_light <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(DEcode, <span class="at">constants =</span> DEconstants)</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>##   [Note] &#39;cLength&#39; is provided in &#39;constants&#39; but not used in the model code and is being ignored.</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<pre><code>##   [Note] This model is not fully initialized. This is not an error.
##          To see which variables are not initialized, use model$initializeInfo().
##          For more information on model initialization, see help(modelInitialization).</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>DEconstants2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">num_farms =</span> <span class="dv">24</span>,</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">num_animals =</span> <span class="dv">826</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">cLength =</span> DeerEcervi<span class="sc">$</span>cLength)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>DEdata2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Ecervi_01 =</span> DeerEcervi<span class="sc">$</span>Ecervi_01,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">sex =</span> DeerEcervi<span class="sc">$</span>Sex,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">farm_ids =</span> DeerEcervi<span class="sc">$</span>farm_ids)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>m_heavy <span class="ot">&lt;-</span>  <span class="fu">nimbleModel</span>(DEcode, <span class="at">data =</span> DEdata2, <span class="at">constants =</span> DEconstants2)</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>##   [Note] &#39;cLength&#39; is provided in &#39;constants&#39; but not used in the model code and is being ignored.</code></pre>
<pre><code>##   [Note] Detected use of non-constant indexes: sex[1], sex[2], sex[3], sex[4], sex[5], sex[6], sex[7], sex[8], sex[9], sex[10], sex[11], sex[12], sex[13], sex[14], sex[15], sex[16], sex[17], sex[18], sex[19], sex[20], sex[21], sex[22], sex[23], sex[24], sex[25], sex[26], sex[27], sex[28], sex[29], sex[30], sex[31], sex[32], sex[33], sex[34], sex[35], sex[36], sex[37], sex[38], sex[39], sex[40], sex[41], sex[42], sex[43], sex[44], sex[45], sex[46], sex[47], sex[48], sex[49], sex[50], farm_ids[1], farm_ids[2], farm_ids[3], farm_ids[4], farm_ids[5], farm_ids[6], farm_ids[7], farm_ids[8], farm_ids[9], farm_ids[10], farm_ids[11], farm_ids[12], farm_ids[13], farm_ids[14], farm_ids[15], farm_ids[16], farm_ids[17], farm_ids[18], farm_ids[19], farm_ids[20], farm_ids[21], farm_ids[22], farm_ids[23], farm_ids[24], farm_ids[25], farm_ids[26], farm_ids[27], farm_ids[28], farm_ids[29], farm_ids[30], farm_ids[31], farm_ids[32], farm_ids[33], farm_ids[34], farm_ids[35], farm_ids[36], farm_ids[37], farm_ids[38], farm_ids[39], farm_ids[40], farm_ids[41], farm_ids[42], farm_ids[43], farm_ids[44], farm_ids[45], farm_ids[46], farm_ids[47], farm_ids[48], farm_ids[49], farm_ids[50], ...
##          For computational efficiency we recommend specifying these in &#39;constants&#39;.</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Setting data and initial values</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<pre><code>##   [Note] This model is not fully initialized. This is not an error.
##          To see which variables are not initialized, use model$initializeInfo().
##          For more information on model initialization, see help(modelInitialization).</code></pre>
<p>Now lets look at the dependency (graph) structure.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>m_light<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;farm_effect[1]&#39;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;farm_effect[1]&quot;          &quot;disease_probability[1]&quot; 
##  [3] &quot;disease_probability[2]&quot;  &quot;disease_probability[3]&quot; 
##  [5] &quot;disease_probability[4]&quot;  &quot;disease_probability[5]&quot; 
##  [7] &quot;disease_probability[6]&quot;  &quot;disease_probability[7]&quot; 
##  [9] &quot;disease_probability[8]&quot;  &quot;disease_probability[9]&quot; 
## [11] &quot;disease_probability[10]&quot; &quot;disease_probability[11]&quot;
## [13] &quot;disease_probability[12]&quot; &quot;disease_probability[13]&quot;
## [15] &quot;disease_probability[14]&quot; &quot;disease_probability[15]&quot;
## [17] &quot;Ecervi_01[1]&quot;            &quot;Ecervi_01[2]&quot;           
## [19] &quot;Ecervi_01[3]&quot;            &quot;Ecervi_01[4]&quot;           
## [21] &quot;Ecervi_01[5]&quot;            &quot;Ecervi_01[6]&quot;           
## [23] &quot;Ecervi_01[7]&quot;            &quot;Ecervi_01[8]&quot;           
## [25] &quot;Ecervi_01[9]&quot;            &quot;Ecervi_01[10]&quot;          
## [27] &quot;Ecervi_01[11]&quot;           &quot;Ecervi_01[12]&quot;          
## [29] &quot;Ecervi_01[13]&quot;           &quot;Ecervi_01[14]&quot;          
## [31] &quot;Ecervi_01[15]&quot;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>too_many_deps <span class="ot">&lt;-</span> m_heavy<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;farm_effect[1]&#39;</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(too_many_deps)</span></code></pre></div>
<pre><code>## [1] 1653</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(too_many_deps, <span class="at">n =</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;farm_effect[1]&quot;          &quot;disease_probability[1]&quot; 
##  [3] &quot;disease_probability[2]&quot;  &quot;disease_probability[3]&quot; 
##  [5] &quot;disease_probability[4]&quot;  &quot;disease_probability[5]&quot; 
##  [7] &quot;disease_probability[6]&quot;  &quot;disease_probability[7]&quot; 
##  [9] &quot;disease_probability[8]&quot;  &quot;disease_probability[9]&quot; 
## [11] &quot;disease_probability[10]&quot; &quot;disease_probability[11]&quot;
## [13] &quot;disease_probability[12]&quot; &quot;disease_probability[13]&quot;
## [15] &quot;disease_probability[14]&quot; &quot;disease_probability[15]&quot;
## [17] &quot;disease_probability[16]&quot; &quot;disease_probability[17]&quot;
## [19] &quot;disease_probability[18]&quot; &quot;disease_probability[19]&quot;
## [21] &quot;disease_probability[20]&quot; &quot;disease_probability[21]&quot;
## [23] &quot;disease_probability[22]&quot; &quot;disease_probability[23]&quot;
## [25] &quot;disease_probability[24]&quot; &quot;disease_probability[25]&quot;
## [27] &quot;disease_probability[26]&quot; &quot;disease_probability[27]&quot;
## [29] &quot;disease_probability[28]&quot; &quot;disease_probability[29]&quot;</code></pre>
<p>If <code>farm_ids</code> (and <code>sex</code>) are not known to
NIMBLE to be constants, then all the observations could potentially
depend on any element of <code>farm_effect</code>, <code>sex_int</code>,
<code>length_coef</code>.</p>
<p>Consider what would happen in a Metropolis-Hastings sampler for
<code>farm_effect[1]</code> in the heavy model.</p>
</div>
<div id="nodes-vs.-variables" class="slide section level1">
<h1>Nodes vs.variables</h1>
<p>In NIMBLE:</p>
<ul>
<li><p>A variable is an object that may contain multiple nodes.</p>
<ul>
<li><code>y</code> is a variable.</li>
</ul></li>
<li><p>A node is a part of a variable declared in one line of BUGS
code.</p>
<ul>
<li><code>y[1]</code>  <code>y[4]</code> are scalar nodes.</li>
</ul></li>
</ul>
</div>
<div id="how-vectorizing-changes-nodes" class="slide section level1">
<h1>How vectorizing changes nodes</h1>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>code2 <span class="ot">&lt;-</span> <span class="fu">nimbleCode</span>({</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  intercept <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  slope <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  sigma <span class="sc">~</span> <span class="fu">dunif</span>(<span class="dv">0</span>, <span class="dv">100</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  predicted.y[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> intercept <span class="sc">+</span> slope <span class="sc">*</span> x[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="co"># vectorized node</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># predicted.y[i] &lt;- intercept + slope * x[i] # scalar nodes (earlier model version)</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    y[i] <span class="sc">~</span> <span class="fu">dnorm</span>(predicted.y[i], <span class="at">sd =</span> sigma)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(code2, </span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> <span class="fu">list</span>(<span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">inits =</span> <span class="fu">list</span>(<span class="at">intercept =</span> <span class="fl">0.5</span>, </span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">slope =</span> <span class="fl">0.2</span>, </span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">sigma =</span> <span class="dv">1</span>,</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>)))</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Setting data and initial values</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<h2 id="look-at-nodes-in-the-vectorized-model">Look at nodes in the
vectorized model</h2>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">getNodeNames</span>()</span></code></pre></div>
<pre><code>## [1] &quot;intercept&quot;        &quot;slope&quot;            &quot;sigma&quot;            &quot;predicted.y[1:4]&quot;
## [5] &quot;y[1]&quot;             &quot;y[2]&quot;             &quot;y[3]&quot;             &quot;y[4]&quot;</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;x[2]&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;predicted.y[1:4]&quot; &quot;y[1]&quot;             &quot;y[2]&quot;             &quot;y[3]&quot;            
## [5] &quot;y[4]&quot;</code></pre>
<p>In this case, if <code>x[2]</code> had a prior and was being sampled
in MCMC, it would be inefficient to calculate all of <code>y[1]</code>,
<code>y[2]</code>, <code>y[3]</code>, <code>y[4]</code>.</p>
</div>
<div id="log-probability-calculations" class="slide section level1">
<h1>Log probability calculations</h1>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;y[1:4]&#39;</span>)</span></code></pre></div>
<pre><code>## [1] -4.634502</code></pre>
<p>This is the sum of log probabilities of all stochastic nodes in the
calculation.</p>
<p>Deterministic nodes have their values calculated but contribute 0 to
the log probability.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;intercept&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;intercept&quot;        &quot;predicted.y[1:4]&quot; &quot;y[1]&quot;             &quot;y[2]&quot;            
## [5] &quot;y[3]&quot;             &quot;y[4]&quot;</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">calculate</span>(model2<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;intercept&#39;</span>))</span></code></pre></div>
<pre><code>## [1] -12.4612</code></pre>
<p>In this case, this is the sum of log probabilities from almost the
entire model.</p>
<p>Only the priors for <code>slope</code> and <code>sigma</code> are not
included.</p>
</div>
<div id="simulating-from-the-model" class="slide section level1">
<h1>Simulating from the model</h1>
<p>In this model, there are no random effects. The only stochastic nodes
are data or parameters with priors.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span>sigma</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">simulate</span>(<span class="st">&#39;sigma&#39;</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span>sigma</span></code></pre></div>
<pre><code>## [1] 71.76185</code></pre>
<p>Data values are protected from simulation unless you are sure.</p>
<p>(The following is not good model-generic programming. More in the
next few slides.)</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1]  0.3295078 -0.8204684  0.4874291  0.7383247</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">simulate</span>(<span class="st">&#39;y&#39;</span>) <span class="do">## Will not over-write data nodes</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1]  0.3295078 -0.8204684  0.4874291  0.7383247</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span><span class="fu">simulate</span>(<span class="st">&#39;y&#39;</span>, <span class="at">includeData =</span> <span class="cn">TRUE</span>) <span class="do">## will over-write data nodes</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>model2<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1] 173.08238  55.33688 -56.77838 -81.77799</code></pre>
</div>
<div id="understanding-lifted-nodes" class="slide section level1">
<h1>Understanding <em>lifted nodes</em></h1>
<p>Consider the following version of our linear regression model.</p>
<p>There is no <code>predicted.y[i]</code>. The expression from that is
directly in the <code>dnorm</code> for <code>y[i]</code>. Also, we now
use the variance instead of the standard deviation in the
likelihood.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>code3 <span class="ot">&lt;-</span> <span class="fu">nimbleCode</span>({</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  intercept <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  slope <span class="sc">~</span> <span class="fu">dnorm</span>(<span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1000</span>)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  sigma2 <span class="sc">~</span> <span class="fu">dinvgamma</span>(<span class="dv">1</span>, <span class="dv">1</span>)  <span class="co"># this sort of prior not generally recommended</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    y[i] <span class="sc">~</span> <span class="fu">dnorm</span>(intercept <span class="sc">+</span> slope <span class="sc">*</span> x[i], <span class="at">var =</span> sigma2)</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(code3, </span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> <span class="fu">list</span>(<span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">inits =</span> <span class="fu">list</span>(<span class="at">intercept =</span> <span class="fl">0.5</span>, </span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">slope =</span> <span class="fl">0.2</span>, </span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">sigma2 =</span> <span class="dv">1</span>,</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>)))</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Setting data and initial values</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<h2 id="look-at-the-nodes">Look at the nodes</h2>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span><span class="fu">getNodeNames</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;intercept&quot;                                       
##  [2] &quot;slope&quot;                                           
##  [3] &quot;sigma2&quot;                                          
##  [4] &quot;lifted_sqrt_oPsigma2_cP&quot;                         
##  [5] &quot;lifted_intercept_plus_slope_times_x_oBi_cB_L5[1]&quot;
##  [6] &quot;lifted_intercept_plus_slope_times_x_oBi_cB_L5[2]&quot;
##  [7] &quot;lifted_intercept_plus_slope_times_x_oBi_cB_L5[3]&quot;
##  [8] &quot;lifted_intercept_plus_slope_times_x_oBi_cB_L5[4]&quot;
##  [9] &quot;y[1]&quot;                                            
## [10] &quot;y[2]&quot;                                            
## [11] &quot;y[3]&quot;                                            
## [12] &quot;y[4]&quot;</code></pre>
<p>NIMBLE has created nodes in the role of <code>predicted.y[i]</code>
and <code>sigma</code>.</p>
<p>These are called <em>lifted nodes</em>. They are created by lifting
an expression out of a parameter for a distribution and creating a
deterministic node for that expression.</p>
<p>Why does NIMBLE do that?</p>
</div>
<div id="model-generic-programming-concrete-example" class="slide section level1">
<h1>Model-generic programming: concrete example</h1>
<p>If we change <code>sigma2</code> and then directly try to work with
<code>y</code>, well cause (silent errors) because the lifted standard
deviation has not been updated.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span>sigma2 <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span>lifted_sqrt_oPsigma2_cP</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span><span class="fu">simulate</span>(<span class="st">&#39;y&#39;</span>, <span class="at">includeData =</span> <span class="cn">TRUE</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model3<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -0.677538 -0.448325 -0.008094  0.070489  0.510720  0.975683</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>depNodes <span class="ot">&lt;-</span> model3<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;sigma2&#39;</span>, <span class="at">self =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>depNodes</span></code></pre></div>
<pre><code>## [1] &quot;lifted_sqrt_oPsigma2_cP&quot; &quot;y[1]&quot;                   
## [3] &quot;y[2]&quot;                    &quot;y[3]&quot;                   
## [5] &quot;y[4]&quot;</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span><span class="fu">simulate</span>(depNodes, <span class="at">includeData =</span> <span class="cn">TRUE</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span>lifted_sqrt_oPsigma2_cP</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model3<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## 0.008932 1.407256 3.083660 3.694537 5.370941 8.601895</code></pre>
</div>
<div id="model-generic-programming" class="slide section level1">
<h1>Model-generic programming</h1>
<p>Say we want a function that simulates all parts of a model that
depend on some input nodes and then returns the corresponding summed log
probability. I will call this part of the model downstream.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>simulate_downstream <span class="ot">&lt;-</span> <span class="cf">function</span>(model, nodes) {</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  downstream_nodes <span class="ot">&lt;-</span> model<span class="sc">$</span><span class="fu">getDependencies</span>(nodes, <span class="at">downstream =</span> <span class="cn">TRUE</span>)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  model<span class="sc">$</span><span class="fu">simulate</span>( downstream_nodes, <span class="at">includeData =</span> <span class="cn">TRUE</span> )</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  logProb <span class="ot">&lt;-</span> model<span class="sc">$</span><span class="fu">calculate</span>( downstream_nodes )</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>  logProb</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Notice that this function will work with <em>any</em> model and
<em>any</em> set of input nodes.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1] 4.293956460 1.873363608 8.601895097 0.008932256</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">simulate_downstream</span>(model3, <span class="st">&#39;sigma2&#39;</span>)</span></code></pre></div>
<pre><code>## [1] -6.585268</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>model3<span class="sc">$</span>y</span></code></pre></div>
<pre><code>## [1]  1.6522945 -0.1805611 -0.7796443  0.6287284</code></pre>
<p>In this case, the model doesnt have much hierarchical structure.</p>
</div>
<div id="always-use-graph-structure-in-model-generic-programming" class="slide section level1">
<h1>Always use graph structure in model-generic programming</h1>
<p>You may not know where there are lifted nodes.</p>
<p>Always determine what to <code>calculate</code> or
<code>simulate</code> from <code>getDependencies</code> or other such
tools.</p>
</div>
<div id="initial-values" class="slide section level1">
<h1>Initial values</h1>
<p>A common cause of user problems is bad or incomplete initial values
for an MCMC.</p>
<p>NIMBLE will simulate initial values from the prior distribution but
this can cause problems in various situations:</p>
<ul>
<li>with vague priors, one can get very bad initial values
<ul>
<li>in particular, can get probabilities of 0 or 1, which may not be
valid in a given model</li>
</ul></li>
<li>with constraints, simulated values may not satisfy a constraint</li>
<li>with truncation, there may be numerical problems if far out in the
tail of a distribution</li>
</ul>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>DEmodel <span class="ot">&lt;-</span> <span class="fu">nimbleModel</span>(DEcode, <span class="at">data =</span> DEdata, <span class="at">constants =</span> DEconstants)</span></code></pre></div>
<pre><code>## Defining model</code></pre>
<pre><code>##   [Note] &#39;cLength&#39; is provided in &#39;constants&#39; but not used in the model code and is being ignored.</code></pre>
<pre><code>## Building model</code></pre>
<pre><code>## Setting data and initial values</code></pre>
<pre><code>## Running calculate on model
##   [Note] Any error reports that follow may simply reflect missing values in model variables.</code></pre>
<pre><code>## Checking model sizes and dimensions</code></pre>
<pre><code>##   [Note] This model is not fully initialized. This is not an error.
##          To see which variables are not initialized, use model$initializeInfo().
##          For more information on model initialization, see help(modelInitialization).</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>()</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">getVarNames</span>()</span></code></pre></div>
<pre><code>## [1] &quot;sex_int&quot;             &quot;length_coef&quot;         &quot;farm_sd&quot;            
## [4] &quot;farm_effect&quot;         &quot;disease_probability&quot; &quot;Ecervi_01&quot;          
## [7] &quot;length&quot;</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;Ecervi_01&#39;</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span>sex_int</span></code></pre></div>
<pre><code>## [1] NA NA</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">simulate</span>(DEmodel<span class="sc">$</span><span class="fu">getNodeNames</span>())  <span class="co"># by default won&#39;t simulate into data nodes</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span>sex_int   <span class="co"># extreme!</span></span></code></pre></div>
<pre><code>## [1] -235.7066 -542.8883</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>()</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;sex_int&#39;</span>)</span></code></pre></div>
<pre><code>## [1] -15.82853</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;length_coef&#39;</span>)</span></code></pre></div>
<pre><code>## [1] -15.95817</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;farm_effect&#39;</span>)</span></code></pre></div>
<pre><code>## [1] -95.824</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>DEmodel<span class="sc">$</span><span class="fu">calculate</span>(<span class="st">&#39;Ecervi_01&#39;</span>)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DEmodel<span class="sc">$</span>disease_probability, <span class="at">n =</span> <span class="dv">50</span>)</span></code></pre></div>
<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
## [26] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA</code></pre>
</div>
<div id="exercises" class="slide section level1">
<h1>Exercises</h1>
<ol style="list-style-type: decimal">
<li><p>Please run through the code from this module and use the commands
discussed to understand the nodes and dependency structure of the deer
E. cervi example.</p></li>
<li><p>Write code to fix the hyperparameters of the deer E. cervi
example and given those fixed values, generate random farm effects and
new observations, as would be needed for a simulation study:</p></li>
</ol>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>farm_sd <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>sex_int <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">2.5</span>)</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span>length_coef <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.5</span>)</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="co"># explore the arguments for `getDependencies` and `simulate`</span></span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>deps <span class="ot">&lt;-</span> model<span class="sc">$</span><span class="fu">getDependencies</span>(<span class="st">&#39;???&#39;</span>)</span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a>model<span class="sc">$</span><span class="fu">simulate</span>(???)</span></code></pre></div>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
